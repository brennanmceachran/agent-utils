<!DOCTYPE html><!--T1sLIVYbo5pn_m7lacbGI--><html lang="en" class="h-full"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/0c89a48fa5027cee-s.p.4564287c.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/a184f9a797eb4044.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/69ffde10966ca596.js"/><script src="/_next/static/chunks/aaef058f5e8629cc.js" async=""></script><script src="/_next/static/chunks/ae1dec47b24f57db.js" async=""></script><script src="/_next/static/chunks/f8baddbda080d937.js" async=""></script><script src="/_next/static/chunks/turbopack-b01be08dfb87acaf.js" async=""></script><script src="/_next/static/chunks/e57f8bd634e3e83c.js" async=""></script><script src="/_next/static/chunks/152d0cd9196fc828.js" async=""></script><script src="/_next/static/chunks/ab30cffd95057725.js" async=""></script><meta name="next-size-adjust" content=""/><title>Agent Utils Registry</title><meta name="description" content="Index-ready registry of OpenCode agent utilities with install-ready files."/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="space_grotesk_a4177b3f-module__DCxVEW__variable min-h-full font-sans"><div hidden=""><!--$--><!--/$--></div><main class="min-h-screen bg-background"><div class="mx-auto flex w-full max-w-6xl flex-col gap-10 px-6 py-16"><header class="space-y-4"><p class="text-sm font-semibold uppercase tracking-wide text-muted-foreground">Concept</p><div class="space-y-3"><h1 class="text-3xl font-semibold tracking-tight">Web Research</h1><p class="text-muted-foreground">OpenCode tool that runs Codex web search requests and returns structured summaries with sources.</p></div><div class="flex flex-wrap gap-2"><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">tool</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">research</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">codex</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">sources</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">opencode</div></div></header><section class="grid gap-8 lg:grid-cols-[1.2fr_0.8fr]"><div class="space-y-6"><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Why teams adopt it</h3><p class="text-sm text-muted-foreground">The outcomes this concept is designed to unlock.</p></div><div class="p-6 pt-0"><ul class="space-y-2 text-sm text-muted-foreground"><li>• <!-- -->Collect authoritative sources quickly without leaving the coding flow.</li><li>• <!-- -->Standardize research output so decisions are traceable and reviewable.</li><li>• <!-- -->Control depth with preset quality levels for faster or deeper dives.</li></ul></div></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">What ships with it</h3><p class="text-sm text-muted-foreground">Core capabilities included in the OpenCode variant.</p></div><div class="p-6 pt-0"><ul class="space-y-2 text-sm text-muted-foreground"><li>• <!-- -->An OpenCode custom tool that invokes the codex CLI with web_search_request enabled.</li><li>• <!-- -->Returns a concise summary, key findings, and full source URLs.</li></ul></div></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Common use cases</h3></div><div class="p-6 pt-0"><ul class="space-y-2 text-sm text-muted-foreground"><li>• <!-- -->Validate API behavior or library changes before implementation.</li><li>• <!-- -->Gather competitive or product research for planning docs.</li><li>• <!-- -->Verify compliance or licensing details with cited sources.</li></ul></div></div></div><div class="space-y-6"><div dir="ltr" data-orientation="horizontal"><div role="tablist" aria-orientation="horizontal" class="inline-flex h-10 items-center rounded-md bg-muted p-1 text-muted-foreground w-full justify-start" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-_R_2inpfivb_-content-opencode" data-state="active" id="radix-_R_2inpfivb_-trigger-opencode" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">OpenCode</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-_R_2inpfivb_-content-claude" data-state="inactive" data-disabled="" disabled="" id="radix-_R_2inpfivb_-trigger-claude" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Claude Code (soon)</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-_R_2inpfivb_-content-codex" data-state="inactive" data-disabled="" disabled="" id="radix-_R_2inpfivb_-trigger-codex" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Codex CLI (soon)</button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_2inpfivb_-trigger-opencode" id="radix-_R_2inpfivb_-content-opencode" tabindex="0" class="mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4" style="animation-duration:0s"><div class="rounded-xl border bg-background/80 p-4"><div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"><div class="space-y-1"><p class="text-sm font-semibold">CLI install</p><p class="text-xs text-muted-foreground">Uses the same host and base path as this registry.</p></div><button class="inline-flex items-center justify-center gap-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background bg-secondary text-secondary-foreground hover:bg-secondary/80 h-9 rounded-md px-3">Copy</button></div><code class="mt-3 block rounded-lg bg-muted/60 px-3 py-2 text-xs text-slate-800">npx shadcn@latest add https://your-site-url/webresearch-opencode.json</code></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Manual install</h3><p class="text-sm text-muted-foreground">Copy these files into your repo.</p></div><div class="p-6 pt-0"><ul class="space-y-2 text-xs text-muted-foreground"><li><span class="font-medium text-foreground">~/.opencode/tool/webresearch.ts</span><span class="text-muted-foreground"> ← <!-- -->registry/webresearch/opencode/.opencode/tool/webresearch.ts</span></li></ul></div></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Code files</h3><p class="text-sm text-muted-foreground">Preview each file with syntax highlighting.</p></div><div class="p-6 pt-0 space-y-4"><div dir="ltr" data-orientation="horizontal"><div role="tablist" aria-orientation="horizontal" class="items-center justify-center rounded-md text-muted-foreground flex h-auto flex-wrap gap-2 bg-transparent p-0" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-_R_jminpfivb_-content-registry-webresearch-opencode--opencode-tool-webresearch-ts" data-state="active" id="radix-_R_jminpfivb_-trigger-registry-webresearch-opencode--opencode-tool-webresearch-ts" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:shadow-sm rounded-full border border-border px-4 py-1 text-xs font-semibold data-[state=active]:bg-primary data-[state=active]:text-primary-foreground" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">webresearch.ts</button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_jminpfivb_-trigger-registry-webresearch-opencode--opencode-tool-webresearch-ts" id="radix-_R_jminpfivb_-content-registry-webresearch-opencode--opencode-tool-webresearch-ts" tabindex="0" class="ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 mt-4" style="animation-duration:0s"><div class="flex items-center justify-between text-xs text-muted-foreground"><span>~/.opencode/tool/webresearch.ts</span><button class="inline-flex items-center justify-center gap-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background bg-secondary text-secondary-foreground hover:bg-secondary/80 h-9 rounded-md px-3">Copy file</button></div><div class="mt-3 overflow-x-auto rounded-lg border bg-white p-3"><div class="text-sm"><pre class="shiki vitesse-light" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#1E754F">import</span><span style="color:#999999"> {</span><span style="color:#B07D48"> tool</span><span style="color:#999999"> }</span><span style="color:#1E754F"> from</span><span style="color:#B5695977"> "</span><span style="color:#B56959">@opencode-ai/plugin</span><span style="color:#B5695977">"</span><span style="color:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959">const </span><span style="color:#B07D48">QUALITY_PRESETS</span><span style="color:#999999"> =</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#998418">  fast</span><span style="color:#999999">: {</span></span>
<span class="line"><span style="color:#998418">    effort</span><span style="color:#999999">: </span><span style="color:#B5695977">"</span><span style="color:#B56959">low</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#998418">    directive</span><span style="color:#999999">: </span><span style="color:#B5695977">"</span><span style="color:#B56959">Keep it quick; use only the most relevant sources.</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">  },</span></span>
<span class="line"><span style="color:#998418">  balanced</span><span style="color:#999999">: {</span></span>
<span class="line"><span style="color:#998418">    effort</span><span style="color:#999999">: </span><span style="color:#B5695977">"</span><span style="color:#B56959">medium</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#998418">    directive</span><span style="color:#999999">: </span><span style="color:#B5695977">"</span><span style="color:#B56959">Cover the main angles; resolve contradictions if they appear.</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">  },</span></span>
<span class="line"><span style="color:#998418">  deep</span><span style="color:#999999">: {</span></span>
<span class="line"><span style="color:#998418">    effort</span><span style="color:#999999">: </span><span style="color:#B5695977">"</span><span style="color:#B56959">high</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#998418">    directive</span><span style="color:#999999">:</span></span>
<span class="line"><span style="color:#B5695977">      "</span><span style="color:#B56959">Follow second-order leads and resolve contradictions until extra sources stop adding value.</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">  },</span></span>
<span class="line"><span style="color:#999999">}</span><span style="color:#1E754F"> as</span><span style="color:#AB5959"> const</span><span style="color:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959">type</span><span style="color:#2E8F82"> Quality</span><span style="color:#999999"> =</span><span style="color:#AB5959"> keyof</span><span style="color:#AB5959"> typeof</span><span style="color:#B07D48"> QUALITY_PRESETS</span><span style="color:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959">function</span><span style="color:#59873A"> buildPrompt</span><span style="color:#999999">({</span></span>
<span class="line"><span style="color:#B07D48">  reason</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">  query</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">  additionalContext</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">  quality</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">}: {</span></span>
<span class="line"><span style="color:#B07D48">  reason</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#B07D48">  query</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#B07D48">  additionalContext</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#B07D48">  quality</span><span style="color:#999999">: </span><span style="color:#2E8F82">Quality</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#999999">})</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#AB5959">  const </span><span style="color:#B07D48">preset</span><span style="color:#999999"> =</span><span style="color:#B07D48"> QUALITY_PRESETS</span><span style="color:#999999">[</span><span style="color:#B07D48">quality</span><span style="color:#999999">];</span></span>
<span class="line"><span style="color:#AB5959">  const </span><span style="color:#B07D48">contextBlock</span><span style="color:#999999"> =</span><span style="color:#B07D48"> additionalContext</span></span>
<span class="line"><span style="color:#AB5959">    ?</span><span style="color:#B5695977"> `</span><span style="color:#B56959">Additional context (optional): </span><span style="color:#1E754F">${</span><span style="color:#B56959">additionalContext</span><span style="color:#1E754F">}</span><span style="color:#B5695977">`</span></span>
<span class="line"><span style="color:#AB5959">    :</span><span style="color:#B5695977"> "</span><span style="color:#B56959">Additional context (optional):</span><span style="color:#B5695977">"</span><span style="color:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F">  return</span><span style="color:#999999"> [</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">Hi, I’m stuck and need help with a research task.</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    ""</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    `</span><span style="color:#B56959">Reason: </span><span style="color:#1E754F">${</span><span style="color:#B56959">reason</span><span style="color:#1E754F">}</span><span style="color:#B5695977">`</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    `</span><span style="color:#B56959">Search queries: </span><span style="color:#1E754F">${</span><span style="color:#B56959">query</span><span style="color:#1E754F">}</span><span style="color:#B5695977">`</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">    contextBlock</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    `</span><span style="color:#B56959">Depth: </span><span style="color:#1E754F">${</span><span style="color:#B56959">quality</span><span style="color:#1E754F">}</span><span style="color:#B5695977">`</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    ""</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">Please search the web and send back:</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">- A 2-4 sentence summary</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">- Key findings or caveats (bullets)</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">- Sources with full URLs</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    ""</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">If anything is ambiguous, cover the plausible interpretations and state your assumptions instead of asking questions.</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">Please don’t edit any code or files.</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">    preset</span><span style="color:#999999">.</span><span style="color:#B07D48">directive</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">  ].</span><span style="color:#59873A">join</span><span style="color:#999999">(</span><span style="color:#B5695977">"</span><span style="color:#A65E2B">\n</span><span style="color:#B5695977">"</span><span style="color:#999999">);</span></span>
<span class="line"><span style="color:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959">async</span><span style="color:#AB5959"> function</span><span style="color:#59873A"> runCodex</span><span style="color:#999999">({</span></span>
<span class="line"><span style="color:#B07D48">  prompt</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">  effort</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">}: {</span></span>
<span class="line"><span style="color:#B07D48">  prompt</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#B07D48">  effort</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#999999">})</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#AB5959">  const </span><span style="color:#B07D48">args</span><span style="color:#999999"> =</span><span style="color:#999999"> [</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">exec</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">--enable</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">web_search_request</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">--sandbox</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">read-only</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">-c</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B5695977">    `</span><span style="color:#B56959">model_reasoning_effort=</span><span style="color:#1E754F">${</span><span style="color:#B56959">effort</span><span style="color:#1E754F">}</span><span style="color:#B5695977">`</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">    prompt</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">  ];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959">  const </span><span style="color:#B07D48">proc</span><span style="color:#999999"> =</span><span style="color:#B07D48"> Bun</span><span style="color:#999999">.</span><span style="color:#59873A">spawn</span><span style="color:#999999">([</span><span style="color:#B5695977">"</span><span style="color:#B56959">codex</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span><span style="color:#999999"> ...</span><span style="color:#B07D48">args</span><span style="color:#999999">],</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#998418">    stdout</span><span style="color:#999999">: </span><span style="color:#B5695977">"</span><span style="color:#B56959">pipe</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#998418">    stderr</span><span style="color:#999999">: </span><span style="color:#B5695977">"</span><span style="color:#B56959">pipe</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959">  const </span><span style="color:#999999">[</span><span style="color:#B07D48">stdout</span><span style="color:#999999">,</span><span style="color:#B07D48"> stderr</span><span style="color:#999999">]</span><span style="color:#999999"> =</span><span style="color:#1E754F"> await</span><span style="color:#998418"> Promise</span><span style="color:#999999">.</span><span style="color:#59873A">all</span><span style="color:#999999">([</span></span>
<span class="line"><span style="color:#AB5959">    new </span><span style="color:#59873A">Response</span><span style="color:#999999">(</span><span style="color:#B07D48">proc</span><span style="color:#999999">.</span><span style="color:#B07D48">stdout</span><span style="color:#999999">).</span><span style="color:#59873A">text</span><span style="color:#999999">(),</span></span>
<span class="line"><span style="color:#AB5959">    new </span><span style="color:#59873A">Response</span><span style="color:#999999">(</span><span style="color:#B07D48">proc</span><span style="color:#999999">.</span><span style="color:#B07D48">stderr</span><span style="color:#999999">).</span><span style="color:#59873A">text</span><span style="color:#999999">(),</span></span>
<span class="line"><span style="color:#999999">  ]);</span></span>
<span class="line"><span style="color:#AB5959">  const </span><span style="color:#B07D48">exitCode</span><span style="color:#999999"> =</span><span style="color:#1E754F"> await</span><span style="color:#B07D48"> proc</span><span style="color:#999999">.</span><span style="color:#B07D48">exited</span><span style="color:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F">  if</span><span style="color:#999999"> (</span><span style="color:#B07D48">exitCode</span><span style="color:#AB5959"> !==</span><span style="color:#2F798A"> 0</span><span style="color:#999999">)</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#AB5959">    const </span><span style="color:#B07D48">message</span><span style="color:#999999"> =</span><span style="color:#B07D48"> stderr</span><span style="color:#999999">.</span><span style="color:#59873A">trim</span><span style="color:#999999">()</span><span style="color:#AB5959"> || </span><span style="color:#B5695977">`</span><span style="color:#B56959">codex exec failed with exit code </span><span style="color:#1E754F">${</span><span style="color:#B56959">exitCode</span><span style="color:#1E754F">}</span><span style="color:#B5695977">`</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#1E754F">    throw</span><span style="color:#AB5959"> new</span><span style="color:#59873A"> Error</span><span style="color:#999999">(</span><span style="color:#B07D48">message</span><span style="color:#999999">);</span></span>
<span class="line"><span style="color:#999999">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F">  return</span><span style="color:#B07D48"> stdout</span><span style="color:#999999">.</span><span style="color:#59873A">trim</span><span style="color:#999999">();</span></span>
<span class="line"><span style="color:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F">export</span><span style="color:#1E754F"> default</span><span style="color:#59873A"> tool</span><span style="color:#999999">({</span></span>
<span class="line"><span style="color:#998418">  description</span><span style="color:#999999">:</span></span>
<span class="line"><span style="color:#B5695977">    "</span><span style="color:#B56959">Run a web search and return a concise summary with source links. Expect 5-10 minutes for deep queries; only run parallel calls for separate deep dives (one run can handle multiple related queries).</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#998418">  args</span><span style="color:#999999">: {</span></span>
<span class="line"><span style="color:#998418">    reason</span><span style="color:#999999">: </span><span style="color:#B07D48">tool</span><span style="color:#999999">.</span><span style="color:#B07D48">schema</span></span>
<span class="line"><span style="color:#999999">      .</span><span style="color:#59873A">string</span><span style="color:#999999">()</span></span>
<span class="line"><span style="color:#999999">      .</span><span style="color:#59873A">describe</span><span style="color:#999999">(</span></span>
<span class="line"><span style="color:#B5695977">        "</span><span style="color:#B56959">Describe the core reason you’re reaching for web search and the decision or output you’re aiming for.</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">      ),</span></span>
<span class="line"><span style="color:#998418">    query</span><span style="color:#999999">: </span><span style="color:#B07D48">tool</span><span style="color:#999999">.</span><span style="color:#B07D48">schema</span></span>
<span class="line"><span style="color:#999999">      .</span><span style="color:#59873A">string</span><span style="color:#999999">()</span></span>
<span class="line"><span style="color:#999999">      .</span><span style="color:#59873A">describe</span><span style="color:#999999">(</span></span>
<span class="line"><span style="color:#B5695977">        '</span><span style="color:#B56959">List the search queries you want run; use new lines or ";" to include multiple angles in one run. Only split into parallel calls for distinct deep dives.</span><span style="color:#B5695977">'</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">      ),</span></span>
<span class="line"><span style="color:#998418">    additional_context</span><span style="color:#999999">: </span><span style="color:#B07D48">tool</span><span style="color:#999999">.</span><span style="color:#B07D48">schema</span></span>
<span class="line"><span style="color:#999999">      .</span><span style="color:#59873A">string</span><span style="color:#999999">()</span></span>
<span class="line"><span style="color:#999999">      .</span><span style="color:#59873A">optional</span><span style="color:#999999">()</span></span>
<span class="line"><span style="color:#999999">      .</span><span style="color:#59873A">describe</span><span style="color:#999999">(</span></span>
<span class="line"><span style="color:#B5695977">        "</span><span style="color:#B56959">Add constraints or background: versions, product names, prior findings, relevant files/code, or must-include sources.</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">      ),</span></span>
<span class="line"><span style="color:#998418">    quality</span><span style="color:#999999">: </span><span style="color:#B07D48">tool</span><span style="color:#999999">.</span><span style="color:#B07D48">schema</span></span>
<span class="line"><span style="color:#999999">      .</span><span style="color:#59873A">enum</span><span style="color:#999999">([</span><span style="color:#B5695977">"</span><span style="color:#B56959">fast</span><span style="color:#B5695977">"</span><span style="color:#999999">, </span><span style="color:#B5695977">"</span><span style="color:#B56959">balanced</span><span style="color:#B5695977">"</span><span style="color:#999999">, </span><span style="color:#B5695977">"</span><span style="color:#B56959">deep</span><span style="color:#B5695977">"</span><span style="color:#999999">])</span></span>
<span class="line"><span style="color:#999999">      .</span><span style="color:#59873A">describe</span><span style="color:#999999">(</span></span>
<span class="line"><span style="color:#B5695977">        "</span><span style="color:#B56959">Fast = quick scan, balanced = normal depth, deep = thorough with follow-up leads (deep can take 5-10 minutes).</span><span style="color:#B5695977">"</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">      ),</span></span>
<span class="line"><span style="color:#999999">  },</span></span>
<span class="line"><span style="color:#AB5959">  async</span><span style="color:#59873A"> execute</span><span style="color:#999999">(</span><span style="color:#B07D48">args</span><span style="color:#999999">) {</span></span>
<span class="line"><span style="color:#AB5959">    const </span><span style="color:#B07D48">quality</span><span style="color:#999999"> =</span><span style="color:#B07D48"> args</span><span style="color:#999999">.</span><span style="color:#B07D48">quality</span><span style="color:#1E754F"> as</span><span style="color:#2E8F82"> Quality</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#AB5959">    const </span><span style="color:#B07D48">prompt</span><span style="color:#999999"> =</span><span style="color:#59873A"> buildPrompt</span><span style="color:#999999">({</span></span>
<span class="line"><span style="color:#998418">      reason</span><span style="color:#999999">: </span><span style="color:#B07D48">args</span><span style="color:#999999">.</span><span style="color:#B07D48">reason</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#998418">      query</span><span style="color:#999999">: </span><span style="color:#B07D48">args</span><span style="color:#999999">.</span><span style="color:#B07D48">query</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#998418">      additionalContext</span><span style="color:#999999">: </span><span style="color:#B07D48">args</span><span style="color:#999999">.</span><span style="color:#B07D48">additional_context</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">      quality</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959">    const </span><span style="color:#B07D48">effort</span><span style="color:#999999"> =</span><span style="color:#B07D48"> QUALITY_PRESETS</span><span style="color:#999999">[</span><span style="color:#B07D48">quality</span><span style="color:#999999">].</span><span style="color:#B07D48">effort</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#1E754F">    return</span><span style="color:#59873A"> runCodex</span><span style="color:#999999">({</span></span>
<span class="line"><span style="color:#B07D48">      prompt</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">      effort</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">    });</span></span>
<span class="line"><span style="color:#999999">  },</span></span>
<span class="line"><span style="color:#999999">});</span></span>
<span class="line"></span></code></pre></div></div></div></div></div></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Notes</h3><p class="text-sm text-muted-foreground">Requires the `codex` CLI on PATH. Restart OpenCode after installing to register the tool. Targets prefixed with ~ are repo-scoped (project-root) paths.</p></div></div></div></div></div></section></div></main><!--$--><!--/$--><script src="/_next/static/chunks/69ffde10966ca596.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[63880,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"default\"]\n3:I[93744,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"default\"]\n5:I[71831,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"OutletBoundary\"]\n6:\"$Sreact.suspense\"\n8:I[71831,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"ViewportBoundary\"]\na:I[71831,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"MetadataBoundary\"]\nc:I[78227,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"default\"]\n:HL[\"/_next/static/chunks/a184f9a797eb4044.css\",\"style\"]\n:HL[\"/_next/static/media/0c89a48fa5027cee-s.p.4564287c.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"T1sLIVYbo5pn_m7lacbGI\",\"c\":[\"\",\"registry\",\"webresearch\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"registry\",{\"children\":[[\"concept\",\"webresearch\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/a184f9a797eb4044.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"h-full\",\"children\":[\"$\",\"body\",null,{\"className\":\"space_grotesk_a4177b3f-module__DCxVEW__variable min-h-full font-sans\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/ab30cffd95057725.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L5\",null,{\"children\":[\"$\",\"$6\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@7\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L8\",null,{\"children\":\"$@9\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$La\",null,{\"children\":[\"$\",\"$6\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@b\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$c\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"9:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"title\",\"0\",{\"children\":\"Agent Utils Registry\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Index-ready registry of OpenCode agent utilities with install-ready files.\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"main\",null,{\"className\":\"min-h-screen bg-background\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto flex w-full max-w-6xl flex-col gap-10 px-6 py-16\",\"children\":[[\"$\",\"header\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm font-semibold uppercase tracking-wide text-muted-foreground\",\"children\":\"Concept\"}],[\"$\",\"div\",null,{\"className\":\"space-y-3\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-semibold tracking-tight\",\"children\":\"Web Research\"}],[\"$\",\"p\",null,{\"className\":\"text-muted-foreground\",\"children\":\"OpenCode tool that runs Codex web search requests and returns structured summaries with sources.\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2\",\"children\":[[\"$\",\"div\",\"tool\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"tool\"}],[\"$\",\"div\",\"research\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"research\"}],[\"$\",\"div\",\"codex\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"codex\"}],[\"$\",\"div\",\"sources\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"sources\"}],[\"$\",\"div\",\"opencode\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"opencode\"}]]}]]}],[\"$\",\"section\",null,{\"className\":\"grid gap-8 lg:grid-cols-[1.2fr_0.8fr]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-xl border bg-card text-card-foreground shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[[\"$\",\"h3\",null,{\"ref\":\"$undefined\",\"className\":\"text-lg font-semibold leading-none\",\"children\":\"Why teams adopt it\"}],[\"$\",\"p\",null,{\"ref\":\"$undefined\",\"className\":\"text-sm text-muted-foreground\",\"children\":\"The outcomes this concept is designed to unlock.\"}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-muted-foreground\",\"children\":[[\"$\",\"li\",\"Collect authoritative sources quickly without leaving the coding flow.\",{\"children\":[\"• \",\"Collect authoritative sources quickly without leaving the coding flow.\"]}],[\"$\",\"li\",\"Standardize research output so decisions are traceable and reviewable.\",{\"children\":[\"• \",\"Standardize research output so decisions are traceable and reviewable.\"]}],[\"$\",\"li\",\"Control depth with preset quality levels for faster or deeper dives.\",{\"children\":[\"• \",\"Control depth with preset quality levels for faster or deeper dives.\"]}]]}]}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-xl border bg-card text-card-foreground shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[[\"$\",\"h3\",null,{\"ref\":\"$undefined\",\"className\":\"text-lg font-semibold leading-none\",\"children\":\"What ships with it\"}],[\"$\",\"p\",null,{\"ref\":\"$undefined\",\"className\":\"text-sm text-muted-foreground\",\"children\":\"Core capabilities included in the OpenCode variant.\"}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-muted-foreground\",\"children\":[[\"$\",\"li\",\"An OpenCode custom tool that invokes the codex CLI with web_search_request enabled.\",{\"children\":[\"• \",\"An OpenCode custom tool that invokes the codex CLI with web_search_request enabled.\"]}],[\"$\",\"li\",\"Returns a concise summary, key findings, and full source URLs.\",{\"children\":[\"• \",\"Returns a concise summary, key findings, and full source URLs.\"]}]]}]}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-xl border bg-card text-card-foreground shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[\"$\",\"h3\",null,{\"ref\":\"$undefined\",\"className\":\"text-lg font-semibold leading-none\",\"children\":\"Common use cases\"}]}],\"$Ld\"]}]]}],\"$Le\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"f:I[27655,[\"/_next/static/chunks/ab30cffd95057725.js\"],\"PlatformTabs\"]\nd:[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-muted-foreground\",\"children\":[[\"$\",\"li\",\"Validate API behavior or library changes before implementation.\",{\"children\":[\"• \",\"Validate API behavior or library changes before implementation.\"]}],[\"$\",\"li\",\"Gather competitive or product research for planning docs.\",{\"children\":[\"• \",\"Gather competitive or product research for planning docs.\"]}],[\"$\",\"li\",\"Verify compliance or licensing details with cited sources.\",{\"children\":[\"• \",\"Verify compliance or licensing details with cited sources.\"]}]]}]}]\n10:Tdf3,"])</script><script>self.__next_f.push([1,"import { tool } from \"@opencode-ai/plugin\";\n\nconst QUALITY_PRESETS = {\n  fast: {\n    effort: \"low\",\n    directive: \"Keep it quick; use only the most relevant sources.\",\n  },\n  balanced: {\n    effort: \"medium\",\n    directive: \"Cover the main angles; resolve contradictions if they appear.\",\n  },\n  deep: {\n    effort: \"high\",\n    directive:\n      \"Follow second-order leads and resolve contradictions until extra sources stop adding value.\",\n  },\n} as const;\n\ntype Quality = keyof typeof QUALITY_PRESETS;\n\nfunction buildPrompt({\n  reason,\n  query,\n  additionalContext,\n  quality,\n}: {\n  reason: string;\n  query: string;\n  additionalContext?: string;\n  quality: Quality;\n}) {\n  const preset = QUALITY_PRESETS[quality];\n  const contextBlock = additionalContext\n    ? `Additional context (optional): ${additionalContext}`\n    : \"Additional context (optional):\";\n\n  return [\n    \"Hi, I’m stuck and need help with a research task.\",\n    \"\",\n    `Reason: ${reason}`,\n    `Search queries: ${query}`,\n    contextBlock,\n    `Depth: ${quality}`,\n    \"\",\n    \"Please search the web and send back:\",\n    \"- A 2-4 sentence summary\",\n    \"- Key findings or caveats (bullets)\",\n    \"- Sources with full URLs\",\n    \"\",\n    \"If anything is ambiguous, cover the plausible interpretations and state your assumptions instead of asking questions.\",\n    \"Please don’t edit any code or files.\",\n    preset.directive,\n  ].join(\"\\n\");\n}\n\nasync function runCodex({\n  prompt,\n  effort,\n}: {\n  prompt: string;\n  effort: string;\n}) {\n  const args = [\n    \"exec\",\n    \"--enable\",\n    \"web_search_request\",\n    \"--sandbox\",\n    \"read-only\",\n    \"-c\",\n    `model_reasoning_effort=${effort}`,\n    prompt,\n  ];\n\n  const proc = Bun.spawn([\"codex\", ...args], {\n    stdout: \"pipe\",\n    stderr: \"pipe\",\n  });\n\n  const [stdout, stderr] = await Promise.all([\n    new Response(proc.stdout).text(),\n    new Response(proc.stderr).text(),\n  ]);\n  const exitCode = await proc.exited;\n\n  if (exitCode !== 0) {\n    const message = stderr.trim() || `codex exec failed with exit code ${exitCode}`;\n    throw new Error(message);\n  }\n\n  return stdout.trim();\n}\n\nexport default tool({\n  description:\n    \"Run a web search and return a concise summary with source links. Expect 5-10 minutes for deep queries; only run parallel calls for separate deep dives (one run can handle multiple related queries).\",\n  args: {\n    reason: tool.schema\n      .string()\n      .describe(\n        \"Describe the core reason you’re reaching for web search and the decision or output you’re aiming for.\",\n      ),\n    query: tool.schema\n      .string()\n      .describe(\n        'List the search queries you want run; use new lines or \";\" to include multiple angles in one run. Only split into parallel calls for distinct deep dives.',\n      ),\n    additional_context: tool.schema\n      .string()\n      .optional()\n      .describe(\n        \"Add constraints or background: versions, product names, prior findings, relevant files/code, or must-include sources.\",\n      ),\n    quality: tool.schema\n      .enum([\"fast\", \"balanced\", \"deep\"])\n      .describe(\n        \"Fast = quick scan, balanced = normal depth, deep = thorough with follow-up leads (deep can take 5-10 minutes).\",\n      ),\n  },\n  async execute(args) {\n    const quality = args.quality as Quality;\n    const prompt = buildPrompt({\n      reason: args.reason,\n      query: args.query,\n      additionalContext: args.additional_context,\n      quality,\n    });\n\n    const effort = QUALITY_PRESETS[quality].effort;\n    return runCodex({\n      prompt,\n      effort,\n    });\n  },\n});\n"])</script><script>self.__next_f.push([1,"11:T61a3,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tool\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e@opencode-ai/plugin\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eQUALITY_PRESETS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e  fast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    effort\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003elow\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    directive\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eKeep it quick; use only the most relevant sources.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e  balanced\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    effort\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emedium\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    directive\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eCover the main angles; resolve contradictions if they appear.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e  deep\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    effort\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ehigh\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    directive\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eFollow second-order leads and resolve contradictions until extra sources stop adding value.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Quality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e keyof\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e typeof\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e QUALITY_PRESETS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e buildPrompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  reason\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  query\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  additionalContext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  quality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  reason\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  query\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  additionalContext\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  quality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eQuality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e})\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epreset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e QUALITY_PRESETS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003equality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003econtextBlock\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e additionalContext\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    ?\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eAdditional context (optional): \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eadditionalContext\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    :\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eAdditional context (optional):\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eHi, I’m stuck and need help with a research task.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eReason: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ereason\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eSearch queries: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    contextBlock\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eDepth: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003equality\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ePlease search the web and send back:\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- A 2-4 sentence summary\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Key findings or caveats (bullets)\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Sources with full URLs\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eIf anything is ambiguous, cover the plausible interpretations and state your assumptions instead of asking questions.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ePlease don’t edit any code or files.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    preset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edirective\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  ].\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e runCodex\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  prompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  effort\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  prompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  effort\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e})\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eexec\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e--enable\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eweb_search_request\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e--sandbox\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eread-only\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e-c\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emodel_reasoning_effort=\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eeffort\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    prompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  ];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eproc\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e Bun\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003espawn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e([\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ecodex\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e ...\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e],\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    stdout\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epipe\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    stderr\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epipe\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estdout\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e stderr\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eall\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e([\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eResponse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eproc\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estdout\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eResponse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eproc\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estderr\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  ]);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eexitCode\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e proc\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eexited\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eexitCode\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessage\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e stderr\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ecodex exec failed with exit code \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eexitCode\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e Error\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessage\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e stdout\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e tool\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e  description\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRun a web search and return a concise summary with source links. Expect 5-10 minutes for deep queries; only run parallel calls for separate deep dives (one run can handle multiple related queries).\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e  args\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    reason\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eschema\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003edescribe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e        \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eDescribe the core reason you’re reaching for web search and the decision or output you’re aiming for.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      ),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    query\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eschema\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003edescribe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e        '\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eList the search queries you want run; use new lines or \";\" to include multiple angles in one run. Only split into parallel calls for distinct deep dives.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      ),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    additional_context\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eschema\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eoptional\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e()\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003edescribe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e        \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eAdd constraints or background: versions, product names, prior findings, relevant files/code, or must-include sources.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      ),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e    quality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eschema\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eenum\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e([\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003efast\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ebalanced\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003edeep\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e])\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003edescribe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e        \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eFast = quick scan, balanced = normal depth, deep = thorough with follow-up leads (deep can take 5-10 minutes).\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      ),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  async\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e execute\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003equality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e args\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003equality\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Quality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eprompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e buildPrompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      reason\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ereason\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      query\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      additionalContext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eadditional_context\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      quality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eeffort\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e QUALITY_PRESETS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003equality\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e].\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eeffort\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e runCodex\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      prompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      effort\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e});\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"e:[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[\"$\",\"$Lf\",null,{\"opencodeVariant\":{\"$schema\":\"https://ui.shadcn.com/schema/registry-item.json\",\"name\":\"webresearch-opencode\",\"type\":\"registry:item\",\"title\":\"OpenCode Web Research\",\"description\":\"Web research tool that runs Codex web_search_request via OpenCode.\",\"meta\":{\"concept\":\"webresearch\",\"platform\":\"opencode\",\"kind\":[\"tool\"]},\"files\":[{\"path\":\"registry/webresearch/opencode/.opencode/tool/webresearch.ts\",\"type\":\"registry:file\",\"target\":\"~/.opencode/tool/webresearch.ts\"}],\"docs\":\"Requires the `codex` CLI on PATH. Restart OpenCode after installing to register the tool. Targets prefixed with ~ are repo-scoped (project-root) paths.\"},\"basePath\":\"\",\"codeBlocks\":[{\"id\":\"registry-webresearch-opencode--opencode-tool-webresearch-ts\",\"label\":\"webresearch.ts\",\"path\":\"registry/webresearch/opencode/.opencode/tool/webresearch.ts\",\"target\":\"~/.opencode/tool/webresearch.ts\",\"raw\":\"$10\",\"html\":\"$11\",\"language\":\"ts\"}]}]}]\n"])</script></body></html>