<!DOCTYPE html><!--7eNH1nO7qxNwDZMCQ_Z5H--><html lang="en" class="h-full"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/agent-utils/_next/static/media/0c89a48fa5027cee-s.p.4564287c.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/agent-utils/_next/static/media/70bc3e132a0a741e-s.p.15008bfb.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/agent-utils/_next/static/chunks/ab0d30ff4f77c0f7.css" data-precedence="next"/><link rel="stylesheet" href="/agent-utils/_next/static/chunks/1cc242b844a8c0ef.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/agent-utils/_next/static/chunks/463abc518080674e.js"/><script src="/agent-utils/_next/static/chunks/d76cbc456cb8f508.js" async=""></script><script src="/agent-utils/_next/static/chunks/ae1dec47b24f57db.js" async=""></script><script src="/agent-utils/_next/static/chunks/56e83238411b4e0c.js" async=""></script><script src="/agent-utils/_next/static/chunks/turbopack-e0bc805eca0ef263.js" async=""></script><script src="/agent-utils/_next/static/chunks/e57f8bd634e3e83c.js" async=""></script><script src="/agent-utils/_next/static/chunks/152d0cd9196fc828.js" async=""></script><script src="/agent-utils/_next/static/chunks/88049d1610f79db3.js" async=""></script><script src="/agent-utils/_next/static/chunks/122bbe670a0c62fe.js" async=""></script><script src="/agent-utils/_next/static/chunks/28ac2bf59af5b750.js" async=""></script><meta name="next-size-adjust" content=""/><title>Ralph Loop | Agent Utils Registry</title><meta name="description" content="Iterative loop for OpenCode that advances one step per run from a prompt file."/><meta name="referrer" content="no-referrer"/><link rel="canonical" href="https://brennanmceachran.github.io/agent-utils/registry/ralph-loop/"/><meta property="og:title" content="Ralph Loop | Agent Utils"/><meta property="og:description" content="Iterative loop for OpenCode that advances one step per run from a prompt file."/><meta property="og:url" content="https://brennanmceachran.github.io/agent-utils/registry/ralph-loop/"/><meta property="og:image" content="https://brennanmceachran.github.io/agent-utils/registry/ralph-loop/opengraph-image"/><meta property="og:image" content="https://pbs.twimg.com/amplify_video_thumb/2008553648259833857/img/jCIcCvbMkveN3wem.jpg"/><meta property="og:video" content="https://video.twimg.com/amplify_video/2008553648259833857/vid/avc1/1920x1080/1iXg1c3O9Kfy8nqX.mp4"/><meta property="og:video:type" content="video/mp4"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Ralph Loop | Agent Utils"/><meta name="twitter:description" content="Iterative loop for OpenCode that advances one step per run from a prompt file."/><meta name="twitter:image" content="https://brennanmceachran.github.io/agent-utils/registry/ralph-loop/opengraph-image"/><meta name="twitter:image" content="https://pbs.twimg.com/amplify_video_thumb/2008553648259833857/img/jCIcCvbMkveN3wem.jpg"/><script src="/agent-utils/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="space_grotesk_a4177b3f-module__DCxVEW__variable jetbrains_mono_2b1eae20-module__XfFTLG__variable min-h-full font-sans"><div hidden=""><!--$--><!--/$--></div><main class="min-h-screen bg-background"><div class="relative"><div class="pointer-events-none absolute inset-0 overflow-hidden"><div class="absolute -left-24 top-16 h-64 w-64 rounded-full bg-orange-200/30 blur-3xl"></div><div class="absolute right-[-120px] top-40 h-72 w-72 rounded-full bg-cyan-200/30 blur-3xl"></div><div class="absolute inset-0 bg-[linear-gradient(to_right,rgba(15,23,42,0.06)_1px,transparent_1px),linear-gradient(to_bottom,rgba(15,23,42,0.06)_1px,transparent_1px)] bg-[size:72px_72px] opacity-40"></div></div><header class="sticky top-0 z-30 border-b border-border/60 bg-background/80 backdrop-blur"><div class="flex w-full items-center gap-6 px-4 py-3 sm:px-6 xl:px-10"><a class="flex items-center gap-3" href="/agent-utils/"><div class="flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 text-white shadow-sm">AU</div><div class="hidden sm:flex flex-col"><span class="text-xs font-semibold uppercase tracking-[0.24em] text-slate-600">Agent Utils</span></div></a><nav class="hidden lg:flex items-center gap-4 text-sm font-medium text-muted-foreground"><a class="hover:text-foreground" href="/agent-utils/">Home</a><a class="hover:text-foreground" href="/agent-utils/registry/">Registry</a></nav><div class="ml-auto flex items-center gap-2"><a href="https://github.com/brennanmceachran/agent-utils" target="_blank" rel="noreferrer" class="items-center justify-center gap-2 rounded-lg text-sm font-semibold tracking-tight transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background border border-border/70 bg-transparent text-foreground hover:bg-muted/70 h-11 px-5 py-2.5 hidden sm:inline-flex">GitHub</a><a class="inline-flex items-center justify-center gap-2 rounded-lg text-sm font-semibold tracking-tight transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background border border-border/70 bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/70 h-11 px-5 py-2.5" href="/agent-utils/registry/">Browse registry</a></div></div></header><div class="relative w-full px-4 pb-16 pt-6 sm:px-6 xl:px-10"><div class="mt-6 grid gap-8 lg:grid-cols-[minmax(200px,240px)_minmax(0,720px)_minmax(0,1fr)] xl:grid-cols-[minmax(240px,1fr)_minmax(0,760px)_minmax(240px,1fr)]"><aside class="hidden lg:flex lg:flex-col lg:sticky lg:top-20 lg:h-[calc(100vh-6rem)] lg:justify-self-start lg:overflow-y-auto lg:pr-2"><div class="space-y-6"><div class="space-y-2"><p class="text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground">Registry</p><nav class="space-y-1"><a class="flex items-center justify-between rounded-xl px-3 py-2 text-sm font-medium transition text-muted-foreground hover:bg-muted/60 hover:text-foreground" href="/agent-utils/registry/nextjs-mcp/"><span>Next.js MCP</span></a><a aria-current="page" class="flex items-center justify-between rounded-xl px-3 py-2 text-sm font-medium transition bg-foreground text-background shadow-sm" href="/agent-utils/registry/ralph-loop/"><span>Ralph Loop</span></a><a class="flex items-center justify-between rounded-xl px-3 py-2 text-sm font-medium transition text-muted-foreground hover:bg-muted/60 hover:text-foreground" href="/agent-utils/registry/webresearch/"><span>Web Research</span></a></nav></div></div></aside><div class="min-w-0 max-w-full lg:justify-self-center"><div class="space-y-14"><section class="space-y-6"><div class="flex flex-wrap items-center gap-3"><div class="inline-flex items-center rounded-full border px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.08em] transition-colors border-border/70 bg-white/70 text-muted-foreground">OpenCode ready</div><div class="inline-flex items-center rounded-full border px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.08em] transition-colors border-border/70 bg-white/70 text-muted-foreground">1<!-- --> <!-- -->variant</div></div><div class="space-y-3"><h1 class="text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl">Ralph Loop</h1><p class="text-lg text-muted-foreground">Iterative loop for OpenCode that advances one step per run from a prompt file.</p></div><section id="overview" class="scroll-mt-24 space-y-6"><div class="markdown"><div class="overflow-hidden rounded-2xl border border-border/70 bg-card/80 shadow-sm backdrop-blur"><div class="relative w-full bg-slate-950" style="aspect-ratio:16 / 9"><video class="h-full w-full object-contain" controls="" playsInline="" preload="metadata" poster="https://pbs.twimg.com/amplify_video_thumb/2008553648259833857/img/jCIcCvbMkveN3wem.jpg" aria-label="Tweet video" crossorigin="anonymous"><source src="https://video.twimg.com/amplify_video/2008553648259833857/vid/avc1/1920x1080/1iXg1c3O9Kfy8nqX.mp4" type="video/mp4"/><track kind="captions" srcLang="en" label="English" src="data:text/vtt,WEBVTT"/></video></div><div class="bg-card/80 px-6 py-4 border-t border-border/70"><div class="relative"><p class="pr-16 text-sm leading-snug text-slate-700" style="display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden"><span>Ralph achieved in </span><a href="https://x.com/opencode" target="_blank" rel="noreferrer" class="font-medium text-slate-700 underline decoration-transparent underline-offset-2 transition hover:text-slate-900 hover:decoration-slate-300">@opencode</a><span>! Running a Ralph loop right now to Migrate DB and ORMs on GPT-5.2-extra-high thinking

A ralph agent, /command, plugin (for stop events and notifications), a linter on the prompt file, + extra security so it accepts basically everything except overly</span></p><a href="https://x.com/i_am_brennan/status/2008554594029240467" target="_blank" rel="noreferrer" class="absolute bottom-0 right-1 z-10 whitespace-nowrap rounded-full bg-card/95 px-1.5 py-0.5 text-[0.7rem] font-medium text-muted-foreground shadow-sm transition hover:text-foreground">Show more</a></div><div class="flex flex-wrap items-center justify-between gap-3 text-[0.75rem] text-muted-foreground mt-3"><div class="flex flex-wrap items-center gap-3"><a href="https://x.com/intent/like?tweet_id=2008554594029240467" target="_blank" rel="noreferrer" class="inline-flex items-center gap-1 rounded-full px-1 py-0.5 text-slate-600 transition hover:text-rose-500"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart h-3.5 w-3.5"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path></svg><span class="font-semibold text-slate-700">7</span></a><a href="https://x.com/intent/tweet?in_reply_to=2008554594029240467" target="_blank" rel="noreferrer" class="inline-flex items-center gap-1 rounded-full px-1 py-0.5 text-slate-600 transition hover:text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle h-3.5 w-3.5"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path></svg><span class="font-semibold">Reply</span></a><button type="button" class="inline-flex items-center gap-1 rounded-full px-1 py-0.5 text-slate-600 transition hover:text-emerald-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-link2 h-3.5 w-3.5"><path d="M9 17H7A5 5 0 0 1 7 7h2"></path><path d="M15 7h2a5 5 0 1 1 0 10h-2"></path><line x1="8" x2="16" y1="12" y2="12"></line></svg><span class="font-semibold">Copy link</span></button></div><div class="flex flex-wrap items-center gap-2 text-[0.7rem]"><a href="https://x.com/i_am_brennan/status/2008554594029240467" target="_blank" rel="noreferrer" class="font-semibold text-muted-foreground/60 opacity-70 transition hover:opacity-100 hover:text-muted-foreground">Open in X</a><a href="https://x.com/i_am_brennan" target="_blank" rel="noreferrer" class="font-semibold text-slate-900 transition hover:text-slate-950">@<!-- -->i_am_brennan</a><a href="https://x.com/i_am_brennan" target="_blank" rel="noreferrer" class="relative flex h-7 w-7 items-center justify-center"><img src="https://pbs.twimg.com/profile_images/1909611582146912256/7YHaoXM8_normal.png" alt="i_am_brennan" class="h-7 w-7 rounded-full border border-white/80" loading="lazy" referrerPolicy="no-referrer"/><span class="absolute -bottom-2 -right-2 text-[0.65rem] leading-none"><span class="flex h-4 w-4 items-center justify-center text-[0.7rem] text-[#1d9bf0]"><svg viewBox="0 0 24 24" aria-label="Verified account" role="img" class="icons-module__vDN0GG__verified"><g><path d="M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s2.52 1.26 3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"></path></g></svg></span></span></a></div></div></div></div></div></section></section><section id="install" class="scroll-mt-24 space-y-6"><div class="flex flex-wrap items-center justify-between gap-4"><div class="space-y-2"><p class="text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground">Installation</p><h2 class="text-2xl font-semibold tracking-tight text-slate-900">Install</h2></div><div class="min-w-[220px]"><select aria-label="Platform" class="w-full rounded-xl border border-border/70 bg-white/80 px-3 py-2 text-sm font-medium text-foreground shadow-sm"><option value="opencode" selected="">OpenCode</option><option value="claude" disabled="">Claude Code (soon)</option><option value="codex" disabled="">Codex CLI (soon)</option></select></div></div><div class="rounded-2xl border border-border/70 bg-white/80 p-6 shadow-sm"><div dir="ltr" data-orientation="horizontal" class="min-w-0 max-w-full space-y-6"><div role="tablist" aria-orientation="horizontal" class="inline-flex min-w-0 items-center rounded-none text-muted-foreground w-full max-w-full justify-start gap-4 border-0 bg-transparent p-0 shadow-none" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-_R_2aqnpfivb_-content-cli" data-state="active" id="radix-_R_2aqnpfivb_-trigger-cli" class="inline-flex items-center justify-center whitespace-nowrap py-0 tracking-[0.08em] ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:shadow-none disabled:pointer-events-none disabled:opacity-50 rounded-none border-b-2 border-transparent px-0 pb-2 text-xs font-semibold text-muted-foreground data-[state=active]:border-foreground data-[state=active]:text-foreground data-[state=active]:bg-transparent" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">CLI</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-_R_2aqnpfivb_-content-manual" data-state="inactive" id="radix-_R_2aqnpfivb_-trigger-manual" class="inline-flex items-center justify-center whitespace-nowrap py-0 tracking-[0.08em] ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:shadow-none disabled:pointer-events-none disabled:opacity-50 rounded-none border-b-2 border-transparent px-0 pb-2 text-xs font-semibold text-muted-foreground data-[state=active]:border-foreground data-[state=active]:text-foreground data-[state=active]:bg-transparent" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Manual</button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_2aqnpfivb_-trigger-cli" id="radix-_R_2aqnpfivb_-content-cli" tabindex="0" class="mt-6 min-w-0 max-w-full ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4" style="animation-duration:0s"><div class="space-y-4"><div class="flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between"><div class="space-y-1"><p class="text-xs font-semibold uppercase tracking-[0.18em] text-muted-foreground">CLI install</p><p class="text-sm text-muted-foreground">Uses the same host and base path as this registry.</p></div><button class="inline-flex items-center justify-center gap-2 rounded-lg font-semibold tracking-tight transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background border border-border/70 bg-transparent text-foreground hover:bg-muted/70 h-8 px-3 text-xs" title="Copy" aria-label="Copy" type="button">Copy</button></div><div class="mt-4 overflow-x-auto rounded-xl border border-border/60 bg-muted/40 p-4 text-xs text-foreground"><pre class="shiki vitesse-light" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#59873A">npx</span><span style="color:#B56959"> shadcn@latest</span><span style="color:#B56959"> add</span><span style="color:#B56959"> https://brennanmceachran.github.io/agent-utils/ralph-loop-opencode.json</span></span></code></pre></div></div></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_2aqnpfivb_-trigger-manual" hidden="" id="radix-_R_2aqnpfivb_-content-manual" tabindex="0" class="mt-6 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 min-w-0 max-w-full space-y-6"></div></div></div></section><section class="space-y-6"><div class="rounded-2xl border border-border/70 text-card-foreground shadow-sm backdrop-blur bg-white/80"><div class="flex flex-col space-y-2 p-6"><h3 class="text-base font-semibold tracking-tight">Quick start</h3></div><div class="p-6 pt-0"><div class="markdown"><p><strong>What this gives you</strong></p>
<ul>
<li>A bounded loop that advances one useful step per iteration.</li>
<li>A progress log written back into the prompt file after each run.</li>
<li>The ability to let an agent grind through the happy path for hours.</li>
<li>Inspired by the Claude Code Ralph Wiggum loop technique.</li>
</ul>
<p>I have run this for 4-5 hours on gpt-5.2-codex (extra high reasoning) without babysitting.</p>
<p><strong>Try it</strong></p>
<ol>
<li>Create a PRD file (template below).</li>
<li>Switch to the <strong>Ralph</strong> agent and run:</li>
</ol>
<div class="mt-3 overflow-x-auto rounded-xl border border-border/60 bg-muted/40 p-4 text-xs text-foreground"><div class="text-[13px]"><pre class="shiki vitesse-light" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#59873A">/ralph</span><span style="color:#B56959"> @docs/feature-x.prd.md</span><span style="color:#2F798A"> 10</span></span></code></pre></div></div>
<ol start="3">
<li>Watch it work! The loop will continue until the agent responds with <code>RALPH_DONE</code>, then re-run or you manually stop it <code>/ralph stop</code>.</li>
<li>???</li>
<li>Profit.</li>
</ol></div></div></div></section><section id="usage" class="scroll-mt-24 space-y-6"><div class="space-y-2"><p class="text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground">Usage</p><h2 class="text-2xl font-semibold tracking-tight text-slate-900">How to use it well</h2></div><div class="rounded-2xl border border-border/70 bg-card/80 text-card-foreground shadow-sm backdrop-blur"><div class="p-6 pt-6"><div class="markdown"><h3>1) Draft a PRD (validator-required sections)</h3>
<p>Ralph validates the prompt file. These headings are required and must be non-empty:</p>
<ul>
<li>Goal</li>
<li>Acceptance Criteria</li>
<li>Verification</li>
<li>Progress</li>
</ul>
<p>Below is a template. Copy it and fill it out replace with your details. Leave the Progress section alone.</p>
<div class="mt-3 overflow-x-auto rounded-xl border border-border/60 bg-muted/40 p-4 text-xs text-foreground"><div class="text-[13px]"><pre class="shiki vitesse-light" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#999999;font-weight:bold">#</span><span style="color:#1C6B48;font-weight:bold"> PRD: &lt;Feature name&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;font-weight:bold">##</span><span style="color:#1C6B48;font-weight:bold"> TL;DR</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> One sentence: what are we shipping?</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;font-weight:bold">##</span><span style="color:#1C6B48;font-weight:bold"> Goal</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> What outcome should exist when done?</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;font-weight:bold">##</span><span style="color:#1C6B48;font-weight:bold"> Constraints</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Tech constraints, deadlines, guardrails.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;font-weight:bold">##</span><span style="color:#1C6B48;font-weight:bold"> Acceptance Criteria</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> [ ] Observable success conditions</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> [ ] Edge cases you care about</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;font-weight:bold">##</span><span style="color:#1C6B48;font-weight:bold"> Verification</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Tests or manual checks that prove it works</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;font-weight:bold">##</span><span style="color:#1C6B48;font-weight:bold"> Notes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Anything the loop should remember each iteration</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;font-weight:bold">##</span><span style="color:#1C6B48;font-weight:bold"> Progress</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34">It&#x27;s your job to update the progress field every time you make a change. The purpose of this is to ensure the next developer knows what you did, what&#x27;s done, any decisions or assumptions you made, and is able to continue working. If you&#x27;ve made changes, please copy and paste this template to the bottom of the progress and edit to add your notes.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999">```</span><span style="color:#393A34">template</span></span>
<span class="line"><span style="color:#393A34">### {{Title}} - {{Date}}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34">- {{Summary}}</span></span>
<span class="line"><span style="color:#393A34">- {{Decisions}}</span></span>
<span class="line"><span style="color:#393A34">- {{Assumptions}}</span></span>
<span class="line"><span style="color:#393A34">- {{Risks}}</span></span>
<span class="line"><span style="color:#393A34">- {{Status}}</span></span>
<span class="line"><span style="color:#393A34">- Best guess at what comes next &amp; why:</span></span>
<span class="line"><span style="color:#393A34">  - {{Next}}</span></span>
<span class="line"><span style="color:#393A34">  - {{Next?}}</span></span>
<span class="line"><span style="color:#999999">```</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34">Add entries below this line:</span></span></code></pre></div></div>
<h3>2) Set the model</h3>
<p>Pick a model that can grind:</p>
<ul>
<li>gpt-5.2-codex (extra high reasoning)</li>
<li>Opus 4.5</li>
</ul>
<h3>3) Switch to the Ralph agent</h3>
<p>Tab through agents until the status reads <code>ralph</code>.</p>
<h3>4) Run the loop</h3>
<p>The Ralph commands has two parameters:</p>
<ol>
<li>The path to the PRD file</li>
<li>The max number of iterations to run (default 25)</li>
</ol>
<p>Start with 5 iterations until you get the hang of it:</p>
<div class="mt-3 overflow-x-auto rounded-xl border border-border/60 bg-muted/40 p-4 text-xs text-foreground"><div class="text-[13px]"><pre class="shiki vitesse-light" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#59873A">/ralph</span><span style="color:#B56959"> @docs/feature-x.prd.md</span><span style="color:#2F798A"> 5</span></span></code></pre></div></div>
<p>Then up as needed:</p>
<div class="mt-3 overflow-x-auto rounded-xl border border-border/60 bg-muted/40 p-4 text-xs text-foreground"><div class="text-[13px]"><pre class="shiki vitesse-light" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#59873A">/ralph</span><span style="color:#B56959"> @docs/feature-x.prd.md</span><span style="color:#2F798A"> 50</span></span></code></pre></div></div>
<h3>5) How the loop behaves</h3>
<p>It will keep smashing your prompt back into the loop until it outputs <code>RALPH_DONE</code> or hits the max iteration cap. That is the point: run the happy path for hours without babysitting.
Each iteration writes Progress back into the PRD. So the next turn picks up where the last left off.</p>
<p>The configs auto accept everything, but stop git push and attemp to stop any destructive actions.</p>
<h3>6) Need to steer every once and a while?</h3>
<p>Because this is in Opencode UI, you can interact with the loop while it&#x27;s running.</p>
<p>Just type a message and hit enter. OpenCode will insert it at the next available moment nudging the agent in the right direction.</p>
<p>However, I find the models <em>eventually</em> get there so try to resist the urg.</p>
<h3>7) Stop the loop</h3>
<ul>
<li>Press Ctrl+C</li>
<li>Or run <code>/ralph stop</code></li>
</ul></div></div></div></section><section id="examples" class="scroll-mt-24 space-y-6"><div class="space-y-2"><p class="text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground">Examples</p><h2 class="text-2xl font-semibold tracking-tight text-slate-900">Shared runs</h2></div><div class="rounded-2xl border border-border/70 bg-card/80 text-card-foreground shadow-sm backdrop-blur"><div class="p-6 pt-6"><div class="markdown"><table><thead><tr><th>Thread</th><th>Platform</th><th>What it shows</th><th>Link</th></tr></thead><tbody><tr><td>Summarizing RALPH_CONTROL loop control message</td><td>OpenCode</td><td>Loop run with progress updates and status tracking.</td><td><a href="https://opncd.ai/share/M2rXLsAD">Open thread</a></td></tr></tbody></table></div></div></div></section><section id="notes" class="scroll-mt-24 space-y-6"><div class="space-y-2"><p class="text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground">Notes</p><h2 class="text-2xl font-semibold tracking-tight text-slate-900">Notes</h2></div><div class="rounded-2xl border border-border/70 bg-card/80 text-card-foreground shadow-sm backdrop-blur"><div class="p-6 pt-6"><div class="markdown"><p>Restart OpenCode after installing to register the /ralph command. Prefer file-based prompts (use @path) for long instructions and multi-line edits.</p></div></div></div></section></div></div><aside class="hidden xl:flex xl:flex-col xl:sticky xl:top-20 xl:h-[calc(100vh-6rem)] xl:justify-self-end xl:overflow-y-auto xl:pl-2"><div class="space-y-4"><p class="text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground">On this page</p><nav class="space-y-2 text-sm text-muted-foreground"><a href="#overview" class="block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground">Overview</a><a href="#install" class="block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground">Installation</a><a href="#usage" class="block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground">Usage</a><a href="#examples" class="block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground">Examples</a><a href="#notes" class="block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground">Notes</a></nav></div></aside></div></div></div></main><!--$--><!--/$--><script src="/agent-utils/_next/static/chunks/463abc518080674e.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[63880,[\"/agent-utils/_next/static/chunks/e57f8bd634e3e83c.js\",\"/agent-utils/_next/static/chunks/152d0cd9196fc828.js\"],\"default\"]\n3:I[93744,[\"/agent-utils/_next/static/chunks/e57f8bd634e3e83c.js\",\"/agent-utils/_next/static/chunks/152d0cd9196fc828.js\"],\"default\"]\n5:I[71831,[\"/agent-utils/_next/static/chunks/e57f8bd634e3e83c.js\",\"/agent-utils/_next/static/chunks/152d0cd9196fc828.js\"],\"OutletBoundary\"]\n6:\"$Sreact.suspense\"\n8:I[71831,[\"/agent-utils/_next/static/chunks/e57f8bd634e3e83c.js\",\"/agent-utils/_next/static/chunks/152d0cd9196fc828.js\"],\"ViewportBoundary\"]\na:I[71831,[\"/agent-utils/_next/static/chunks/e57f8bd634e3e83c.js\",\"/agent-utils/_next/static/chunks/152d0cd9196fc828.js\"],\"MetadataBoundary\"]\nc:I[78227,[],\"default\"]\n:HL[\"/agent-utils/_next/static/chunks/ab0d30ff4f77c0f7.css\",\"style\"]\n:HL[\"/agent-utils/_next/static/media/0c89a48fa5027cee-s.p.4564287c.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/agent-utils/_next/static/media/70bc3e132a0a741e-s.p.15008bfb.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/agent-utils/_next/static/chunks/1cc242b844a8c0ef.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"7eNH1nO7qxNwDZMCQ_Z5H\",\"c\":[\"\",\"registry\",\"ralph-loop\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"registry\",{\"children\":[[\"concept\",\"ralph-loop\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/agent-utils/_next/static/chunks/ab0d30ff4f77c0f7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"h-full\",\"children\":[\"$\",\"body\",null,{\"className\":\"space_grotesk_a4177b3f-module__DCxVEW__variable jetbrains_mono_2b1eae20-module__XfFTLG__variable min-h-full font-sans\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/agent-utils/_next/static/chunks/1cc242b844a8c0ef.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/agent-utils/_next/static/chunks/88049d1610f79db3.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/agent-utils/_next/static/chunks/122bbe670a0c62fe.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/agent-utils/_next/static/chunks/28ac2bf59af5b750.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L5\",null,{\"children\":[\"$\",\"$6\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@7\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L8\",null,{\"children\":\"$@9\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$La\",null,{\"children\":[\"$\",\"$6\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@b\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$c\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"9:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"d:I[27130,[\"/agent-utils/_next/static/chunks/88049d1610f79db3.js\",\"/agent-utils/_next/static/chunks/122bbe670a0c62fe.js\",\"/agent-utils/_next/static/chunks/28ac2bf59af5b750.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"main\",null,{\"className\":\"min-h-screen bg-background\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative\",\"children\":[[\"$\",\"div\",null,{\"className\":\"pointer-events-none absolute inset-0 overflow-hidden\",\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute -left-24 top-16 h-64 w-64 rounded-full bg-orange-200/30 blur-3xl\"}],[\"$\",\"div\",null,{\"className\":\"absolute right-[-120px] top-40 h-72 w-72 rounded-full bg-cyan-200/30 blur-3xl\"}],[\"$\",\"div\",null,{\"className\":\"absolute inset-0 bg-[linear-gradient(to_right,rgba(15,23,42,0.06)_1px,transparent_1px),linear-gradient(to_bottom,rgba(15,23,42,0.06)_1px,transparent_1px)] bg-[size:72px_72px] opacity-40\"}]]}],[\"$\",\"header\",null,{\"className\":\"sticky top-0 z-30 border-b border-border/60 bg-background/80 backdrop-blur\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex w-full items-center gap-6 px-4 py-3 sm:px-6 xl:px-10\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"/\",\"className\":\"flex items-center gap-3\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-900 text-white shadow-sm\",\"children\":\"AU\"}],[\"$\",\"div\",null,{\"className\":\"hidden sm:flex flex-col\",\"children\":[\"$\",\"span\",null,{\"className\":\"text-xs font-semibold uppercase tracking-[0.24em] text-slate-600\",\"children\":\"Agent Utils\"}]}]]}],[\"$\",\"nav\",null,{\"className\":\"hidden lg:flex items-center gap-4 text-sm font-medium text-muted-foreground\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"/\",\"className\":\"hover:text-foreground\",\"children\":\"Home\"}],[\"$\",\"$Ld\",null,{\"href\":\"/registry\",\"className\":\"hover:text-foreground\",\"children\":\"Registry\"}]]}],[\"$\",\"div\",null,{\"className\":\"ml-auto flex items-center gap-2\",\"children\":[[\"$\",\"a\",null,{\"href\":\"https://github.com/brennanmceachran/agent-utils\",\"target\":\"_blank\",\"rel\":\"noreferrer\",\"children\":\"GitHub\",\"className\":\"items-center justify-center gap-2 rounded-lg text-sm font-semibold tracking-tight transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background border border-border/70 bg-transparent text-foreground hover:bg-muted/70 h-11 px-5 py-2.5 hidden sm:inline-flex\",\"ref\":null}],[\"$\",\"$Ld\",null,{\"href\":\"/registry\",\"children\":\"Browse registry\",\"className\":\"inline-flex items-center justify-center gap-2 rounded-lg text-sm font-semibold tracking-tight transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background border border-border/70 bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/70 h-11 px-5 py-2.5\",\"ref\":null}]]}]]}]}],[\"$\",\"div\",null,{\"className\":\"relative w-full px-4 pb-16 pt-6 sm:px-6 xl:px-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mt-6 grid gap-8 lg:grid-cols-[minmax(200px,240px)_minmax(0,720px)_minmax(0,1fr)] xl:grid-cols-[minmax(240px,1fr)_minmax(0,760px)_minmax(240px,1fr)]\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"hidden lg:flex lg:flex-col lg:sticky lg:top-20 lg:h-[calc(100vh-6rem)] lg:justify-self-start lg:overflow-y-auto lg:pr-2\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-2\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground\",\"children\":\"Registry\"}],[\"$\",\"nav\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"$Ld\",\"nextjs-mcp\",{\"href\":\"/registry/nextjs-mcp\",\"aria-current\":\"$undefined\",\"className\":\"flex items-center justify-between rounded-xl px-3 py-2 text-sm font-medium transition text-muted-foreground hover:bg-muted/60 hover:text-foreground\",\"children\":[\"$\",\"span\",null,{\"children\":\"Next.js MCP\"}]}],[\"$\",\"$Ld\",\"ralph-loop\",{\"href\":\"/registry/ralph-loop\",\"aria-current\":\"page\",\"className\":\"flex items-center justify-between rounded-xl px-3 py-2 text-sm font-medium transition bg-foreground text-background shadow-sm\",\"children\":\"$Le\"}],\"$Lf\"]}]]}]}]}],\"$L10\",\"$L11\"]}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"13:I[27655,[\"/agent-utils/_next/static/chunks/88049d1610f79db3.js\",\"/agent-utils/_next/static/chunks/122bbe670a0c62fe.js\",\"/agent-utils/_next/static/chunks/28ac2bf59af5b750.js\"],\"PlatformTabs\"]\ne:[\"$\",\"span\",null,{\"children\":\"Ralph Loop\"}]\nf:[\"$\",\"$Ld\",\"webresearch\",{\"href\":\"/registry/webresearch\",\"aria-current\":\"$undefined\",\"className\":\"flex items-center justify-between rounded-xl px-3 py-2 text-sm font-medium transition text-muted-foreground hover:bg-muted/60 hover:text-foreground\",\"children\":[\"$\",\"span\",null,{\"children\":\"Web Research\"}]}]\n14:T8b9,"])</script><script>self.__next_f.push([1,"---\ndescription: Ralph loop agent (autonomous iterations)\nmode: primary\npermission:\n  bash:\n    'git push': deny\n    '*': allow\n  external_directory: deny\n  doom_loop: allow\n---\n\nYou are the Ralph Loop Code agent.\n\nControl messages:\n\n- If you receive a message containing `RALPH_CONTROL:`, treat it as plugin control. Reply with a brief acknowledgement only (no tool calls) and wait for the next iteration prompt. Outside of that you are expected to begin coding.\n\nRalph loop mechanics:\n\n- Each iteration will include a `\u003ctask_prompt_file\u003e` block containing the user-authored prompt file. Treat that as the source of truth for WHAT to do.\n- In each iteration, pick the single most useful next step you can complete now FROM the mentioned prompt file:\n  - CODE THAT TASK in the code base. Keep going until you hit a blocker or the task is done. You may not ask the user questions, it's assumed all necessary context is in the prompt file.\n  - Once done, update the prompt file with your progress so the next iteration can continue.\n- The prompt file is durable memory. Keep it concise and current with progress, decisions, and next steps (chat history may be compacted).\n- Once your turn is over, you will be summoned again automatically with the same prompt file. Continue working where you left off. Do not wait for the user.\n\nRules:\n\n- Stay inside this repo/worktree. Do not read/write/edit files outside the repo.\n- Never delete or rename the prompt file.\n- Never run `git push`.\n- Avoid catastrophic commands (e.g. repo wipes like `rm -rf .` / `rm -rf *`, disk wipes like `rm -rf /` or `rm -rf ~`).\n\nWorking style:\n\n- Use `## Acceptance Criteria` to define \"done\"; use `## Verification` to prove it.\n- Keep changes small and verify frequently.\n- Update `## Progress` every iteration with: what changed, current status, next step, and any verification results/errors.\n- If a command is blocked/denied, do not retry it. Choose a safer alternative and note it in `## Progress`.\n- If stuck, log the blocker and what you tried in `## Progress`, then attempt the next best approach.\n\nCompletion:\n\n- Only when the task is fully complete AND verification passes, end your final message with the exact token `RALPH_DONE` on its own line.\n"])</script><script>self.__next_f.push([1,"15:T1bd4,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003edescription: Ralph loop agent (autonomous iterations)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003emode: primary\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003epermission:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e  bash:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e    'git push': deny\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e    '*': allow\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e  external_directory: deny\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e  doom_loop: allow\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1C6B48;font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eYou are the Ralph Loop Code agent.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eControl messages:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e If you receive a message containing \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003eRALPH_CONTROL:\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e, treat it as plugin control. Reply with a brief acknowledgement only (no tool calls) and wait for the next iteration prompt. Outside of that you are expected to begin coding.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eRalph loop mechanics:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Each iteration will include a \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e\u0026#x3C;task_prompt_file\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e block containing the user-authored prompt file. Treat that as the source of truth for WHAT to do.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e In each iteration, pick the single most useful next step you can complete now FROM the mentioned prompt file:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e  -\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e CODE THAT TASK in the code base. Keep going until you hit a blocker or the task is done. You may not ask the user questions, it's assumed all necessary context is in the prompt file.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e  -\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Once done, update the prompt file with your progress so the next iteration can continue.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e The prompt file is durable memory. Keep it concise and current with progress, decisions, and next steps (chat history may be compacted).\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Once your turn is over, you will be summoned again automatically with the same prompt file. Continue working where you left off. Do not wait for the user.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eRules:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Stay inside this repo/worktree. Do not read/write/edit files outside the repo.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Never delete or rename the prompt file.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Never run \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003egit push\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Avoid catastrophic commands (e.g. repo wipes like \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003erm -rf .\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e / \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003erm -rf *\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e, disk wipes like \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003erm -rf /\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e or \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003erm -rf ~\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e).\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eWorking style:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Use \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Acceptance Criteria\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e to define \"done\"; use \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Verification\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e to prove it.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Keep changes small and verify frequently.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Update \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Progress\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e every iteration with: what changed, current status, next step, and any verification results/errors.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e If a command is blocked/denied, do not retry it. Choose a safer alternative and note it in \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Progress\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e If stuck, log the blocker and what you tried in \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Progress\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e, then attempt the next best approach.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eCompletion:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Only when the task is fully complete AND verification passes, end your final message with the exact token \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003eRALPH_DONE\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e on its own line.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"16:T76f,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003edescription: Start/stop a Ralph loop on a prompt file\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eagent: ralph\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1C6B48;font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eRALPH_CONTROL: {\"arg1\":\"$1\",\"arg2\":\"$2\",\"arg3\":\"$3\"}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eThis command sends a control message that the Ralph loop plugin listens for.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e If \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e$1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e is \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003estop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e, stop the Ralph loop.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Otherwise, treat \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e$1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e as the prompt file reference and \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e$2\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e as an optional max-iterations number.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eRespond with a brief acknowledgement only. Do not run tools in response to this control message.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"17:T2e14,"])</script><script>self.__next_f.push([1,"/// \u003creference path=\"../types/shims.d.ts\" /\u003e\n\nimport fs from \"node:fs/promises\";\nimport path from \"node:path\";\nimport type { Plugin } from \"@opencode-ai/plugin\";\n\nimport {\n  CONTROL_PREFIX,\n  DEFAULT_MAX_ITERATIONS,\n  DONE_TOKEN,\n  hasDone,\n  isPathInside,\n  lintPrompt,\n  loadJson,\n  normalizeRelToken,\n  parseControl,\n  rmTargetsFromArgs,\n  saveJson,\n  splitShellSegments,\n  stripArg,\n  stripEnvPrefixes,\n  textFromParts,\n  tokenize,\n} from \"../ralph/ralph-utils\";\n\ntype RalphSession = {\n  enabled: boolean;\n  promptPath: string; // repo-relative\n  maxIterations: number;\n  iteration: number;\n};\n\ntype RalphState = {\n  version: 1;\n  sessions: Record\u003cstring, RalphSession\u003e;\n};\n\ntype ChatMessageInput = {\n  sessionID: string;\n};\n\ntype ChatMessageOutput = {\n  parts: unknown[];\n};\n\ntype SessionMessage = {\n  info?: {\n    role?: string;\n  };\n  parts?: unknown[];\n};\n\ntype SessionMessagesResponse = {\n  data?: SessionMessage[];\n};\n\ntype IdleEvent = {\n  type: string;\n  properties: {\n    sessionID: string;\n  };\n};\n\ntype IdleEventInput = {\n  event: IdleEvent;\n};\n\ntype ToolExecuteInput = {\n  sessionID: string;\n  tool: string;\n};\n\ntype ToolExecuteOutput = {\n  args?: {\n    command?: string;\n    filePath?: string;\n  };\n};\n\nexport const RalphLoopPlugin: Plugin = async ({ client, worktree }) =\u003e {\n  const stateFile = path.join(worktree, \".opencode\", \"ralph\", \"state.json\");\n  const state = await loadJson\u003cRalphState\u003e(stateFile, { version: 1, sessions: {} });\n\n  const toast = async (\n    message: string,\n    variant: \"info\" | \"success\" | \"warning\" | \"error\" = \"info\",\n  ): Promise\u003cvoid\u003e =\u003e {\n    await client.tui.showToast({ body: { title: \"Ralph\", message, variant } });\n  };\n\n  const persist = () =\u003e saveJson(stateFile, state);\n\n  const stop = async (sessionID: string, reason: string) =\u003e {\n    const s = state.sessions?.[sessionID];\n    if (!s?.enabled) return;\n    s.enabled = false;\n    await persist();\n    await toast(`Stopped: ${reason}`, \"warning\");\n  };\n\n  const start = async (sessionID: string, promptArg: string, maxArg?: string) =\u003e {\n    const raw = stripArg(promptArg);\n    const abs = path.isAbsolute(raw) ? raw : path.resolve(worktree, raw);\n\n    let real = abs;\n    try {\n      real = await fs.realpath(abs);\n    } catch {\n      // ignore\n    }\n\n    if (!isPathInside(worktree, real)) {\n      await toast(`Refusing to start: prompt file is outside repo (${promptArg})`, \"error\");\n      return;\n    }\n\n    try {\n      if (!(await fs.stat(real)).isFile()) throw new Error(\"not file\");\n    } catch {\n      await toast(`Refusing to start: prompt file not found (${promptArg})`, \"error\");\n      return;\n    }\n\n    const md = await fs.readFile(real, \"utf8\");\n    const lintErrors = lintPrompt(md);\n    if (lintErrors.length) {\n      await toast(`Prompt file lint failed:\\n- ${lintErrors.join(\"\\n- \")}`, \"error\");\n      return;\n    }\n\n    const maxIterations =\n      maxArg \u0026\u0026 /^[0-9]+$/.test(String(maxArg)) ? Number(maxArg) : DEFAULT_MAX_ITERATIONS;\n    state.sessions[sessionID] = {\n      enabled: true,\n      promptPath: path.relative(worktree, real),\n      maxIterations,\n      iteration: 0,\n    };\n\n    await persist();\n    await toast(\n      `Enabled (max ${maxIterations}) using ${state.sessions[sessionID].promptPath}`,\n      \"success\",\n    );\n  };\n\n  const guardBash = (command: string, session: RalphSession) =\u003e {\n    const cmd = String(command ?? \"\").trim();\n    if (!cmd) return;\n\n    const worktreeAbs = path.resolve(worktree);\n    const promptAbs = path.resolve(worktreeAbs, session.promptPath);\n    const promptRel = normalizeRelToken(session.promptPath);\n\n    let simulatedCwd = worktreeAbs;\n\n    const assertInside = (absPath: string, operation: string) =\u003e {\n      if (!isPathInside(worktreeAbs, absPath)) {\n        throw new Error(`Ralph safety: refusing to ${operation} outside repo`);\n      }\n    };\n\n    const resolveFromCwd = (maybePath: string) =\u003e\n      path.isAbsolute(maybePath) ? path.resolve(maybePath) : path.resolve(simulatedCwd, maybePath);\n\n    for (const seg of splitShellSegments(cmd)) {\n      const tokens = stripEnvPrefixes(tokenize(seg));\n      const a = tokens[0] ?? \"\";\n      const b = tokens[1] ?? \"\";\n      if (!a) continue;\n\n      // Track `cd` so relative destructive ops resolve correctly.\n      if (a === \"cd\") {\n        const dest = tokens[1];\n        if (!dest || dest === \"-\") throw new Error(\"Ralph safety: refusing ambiguous cd\");\n\n        if (/[`$]/.test(String(dest))) {\n          throw new Error(\"Ralph safety: refusing non-literal cd target\");\n        }\n\n        const normalized = normalizeRelToken(String(dest));\n        if (\n          normalized.startsWith(\"~\") ||\n          normalized.startsWith(\"$HOME\") ||\n          normalized.startsWith(\"${HOME}\")\n        ) {\n          throw new Error(\"Ralph safety: refusing cd to home paths\");\n        }\n\n        const next = resolveFromCwd(String(dest));\n        assertInside(next, \"cd\");\n        simulatedCwd = next;\n        continue;\n      }\n\n      if (a === \"sudo\") throw new Error(\"Ralph safety: sudo is disabled\");\n      if (a === \"git\" \u0026\u0026 b === \"push\") throw new Error(\"Ralph safety: git push is disabled\");\n      if (a === \"git\" \u0026\u0026 b === \"clean\" \u0026\u0026 tokens.some((t) =\u003e String(t).includes(\"-f\"))) {\n        throw new Error(\"Ralph safety: git clean with -f is disabled\");\n      }\n\n      const isRm = a === \"rm\" || a === \"rmdir\";\n      const isGitRm = a === \"git\" \u0026\u0026 b === \"rm\";\n      const isMv = a === \"mv\";\n      const isGitMv = a === \"git\" \u0026\u0026 b === \"mv\";\n\n      // Prevent prompt file moves/renames (and prevent moving files outside repo).\n      if (isMv || isGitMv) {\n        const offset = isGitMv ? 2 : 1;\n        const paths = rmTargetsFromArgs(tokens.slice(offset));\n        for (const rawTok of paths) {\n          const raw = String(rawTok);\n          if (/[`$]/.test(raw)) throw new Error(\"Ralph safety: refusing non-literal mv path\");\n          const abs = resolveFromCwd(raw);\n          if (abs === promptAbs)\n            throw new Error(\"Ralph safety: cannot move/rename the prompt file\");\n          assertInside(abs, \"move files\");\n        }\n        continue;\n      }\n\n      if (!isRm \u0026\u0026 !isGitRm) continue;\n\n      const offset = isGitRm ? 2 : 1;\n      const targets = rmTargetsFromArgs(tokens.slice(offset));\n\n      for (const rawTok of targets) {\n        const raw = String(rawTok);\n        if (/[`$]/.test(raw)) throw new Error(\"Ralph safety: refusing non-literal rm target\");\n        const normalizedForWipe = normalizeRelToken(raw).replace(/\\/+$/, \"\");\n\n        // Block the classic \"oops\" wipes.\n        if (normalizedForWipe === \"\" || normalizedForWipe === \".\" || normalizedForWipe === \"*\") {\n          throw new Error(\"Ralph safety: refusing repo wipe\");\n        }\n\n        if (raw === \"/\" || raw === \"/*\") throw new Error(\"Ralph safety: refusing disk wipe\");\n\n        if (\n          normalizedForWipe.startsWith(\"~\") ||\n          normalizedForWipe.startsWith(\"$HOME\") ||\n          normalizedForWipe.startsWith(\"${HOME}\")\n        ) {\n          throw new Error(\"Ralph safety: refusing home paths\");\n        }\n\n        // Protect the prompt file.\n        if (normalizedForWipe === promptRel) {\n          throw new Error(\"Ralph safety: cannot delete the prompt file\");\n        }\n\n        const abs = resolveFromCwd(raw);\n        if (abs === promptAbs) throw new Error(\"Ralph safety: cannot delete the prompt file\");\n        if (abs === worktreeAbs) throw new Error(\"Ralph safety: refusing to delete repo root\");\n\n        assertInside(abs, \"delete files\");\n      }\n    }\n  };\n\n  const runIteration = async (sessionID: string, session: RalphSession) =\u003e {\n    if (session.iteration \u003e= session.maxIterations) {\n      await stop(sessionID, `max iterations reached (${session.maxIterations})`);\n      return;\n    }\n\n    const promptReal = path.join(worktree, session.promptPath);\n    const promptContents = await fs.readFile(promptReal, \"utf8\");\n\n    session.iteration += 1;\n    await persist();\n    await toast(`Iteration ${session.iteration}/${session.maxIterations}`, \"info\");\n\n    const msg = [\n      `\u003cralph_iteration number=\"${session.iteration}\" max=\"${session.maxIterations}\"\u003e`,\n      \"\u003cralph_rules\u003e\",\n      \"- Task spec: follow the content in \u003ctask_prompt_file\u003e.\",\n      \"- Read `## Progress` as you may have already started coding and done some work.\",\n      \"- Focus: pick the single most useful next step you can complete now.\",\n      \"- Make concrete progress in implementing the features/functionality described in that doc. Do this by coding in this repo/working directory.\",\n      \"- Once you are done, update the prompt file, especially `## Progress`, to be accurate with your progress so far.\",\n      \"- In `## Progress`, record: what you changed, current status, next step, and any verification results/errors.\",\n      \"- Keep the prompt file concise and current; it is durable memory (chat may be compacted).\",\n      \"- Use ## Acceptance Criteria to define done; use ## Verification to prove it.\",\n      \"- If a command is blocked/denied, do not retry it; choose a safer alternative and note it in ## Progress.\",\n      \"- If stuck, log the blocker and what you tried in ## Progress, then attempt the next best approach.\",\n      `- Completion: only when fully complete and verified, end your final message with a line containing only: ${DONE_TOKEN}`,\n      \"\u003c/ralph_rules\u003e\",\n      `\u003ctask_prompt_file path=\"${session.promptPath}\"\u003e`,\n      promptContents,\n      \"\u003c/task_prompt_file\u003e\",\n      \"\u003c/ralph_iteration\u003e\",\n    ].join(\"\\n\");\n\n    await client.session.prompt({\n      path: { id: sessionID },\n      body: { agent: \"ralph\", parts: [{ type: \"text\", text: msg }] },\n    });\n  };\n\n  return {\n    \"chat.message\": async (input: ChatMessageInput, output: ChatMessageOutput) =\u003e {\n      const text = textFromParts(output.parts);\n      if (!text.includes(CONTROL_PREFIX)) return;\n\n      const control = parseControl(text);\n      if (!control) return toast(\"Could not parse RALPH_CONTROL JSON\", \"error\");\n\n      const arg1 = String(control.arg1 ?? \"\").trim();\n      const arg2 = String(control.arg2 ?? \"\").trim();\n\n      if (!arg1) return toast(\"Usage: /ralph @prompt.md [max]  OR  /ralph stop\", \"error\");\n      if (arg1 === \"stop\") return stop(input.sessionID, \"manual stop\");\n\n      return start(input.sessionID, arg1, arg2);\n    },\n\n    event: async ({ event }: IdleEventInput) =\u003e {\n      if (event.type !== \"session.idle\") return;\n      const sessionID = event.properties.sessionID;\n      const session = state.sessions?.[sessionID];\n      if (!session?.enabled) return;\n\n      try {\n        const messagesResult = (await client.session.messages({\n          path: { id: sessionID },\n          query: { limit: 25 },\n        })) as SessionMessagesResponse;\n        const messages = messagesResult.data ?? [];\n        const lastAssistant = [...messages].reverse().find((m) =\u003e m.info?.role === \"assistant\");\n        if (lastAssistant \u0026\u0026 hasDone(textFromParts(lastAssistant.parts ?? [])))\n          return stop(sessionID, DONE_TOKEN);\n      } catch {\n        // ignore\n      }\n\n      return runIteration(sessionID, session);\n    },\n\n    \"tool.execute.before\": async (input: ToolExecuteInput, output: ToolExecuteOutput) =\u003e {\n      const session = state.sessions?.[input.sessionID];\n      if (!session?.enabled) return;\n\n      if (input.tool === \"bash\") {\n        guardBash(output.args?.command, session);\n        return;\n      }\n\n      if (input.tool === \"read\" || input.tool === \"write\" || input.tool === \"edit\") {\n        const filePath = output.args?.filePath;\n        if (typeof filePath !== \"string\" || !filePath) return;\n        const abs = path.isAbsolute(filePath) ? filePath : path.resolve(worktree, filePath);\n        if (!isPathInside(worktree, abs))\n          throw new Error(\"Ralph safety: file access outside repo is disabled\");\n      }\n    },\n  };\n};\n"])</script><script>self.__next_f.push([1,"18:T175d9,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e/// \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereference\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e../types/shims.d.ts\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:fs/promises\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:path\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e Plugin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e@opencode-ai/plugin\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  CONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  DEFAULT_MAX_ITERATIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  DONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  hasDone\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  isPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  lintPrompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  loadJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  normalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  parseControl\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  rmTargetsFromArgs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  saveJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  splitShellSegments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  stripArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  stripEnvPrefixes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  textFromParts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  tokenize\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e../ralph/ralph-utils\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e RalphSession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  enabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eboolean\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  promptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#A0ADA0\"\u003e // repo-relative\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  maxIterations\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003enumber\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  iteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003enumber\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e RalphState\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  version\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  sessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRecord\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRalphSession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e ChatMessageInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  sessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e ChatMessageOutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  parts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e SessionMessage\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  info\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    role\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  parts\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e SessionMessagesResponse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  data\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eSessionMessage\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e IdleEvent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  type\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  properties\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    sessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e IdleEventInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  event\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eIdleEvent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e ToolExecuteInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  sessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  tool\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e ToolExecuteOutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  args\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    command\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    filePath\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eRalphLoopPlugin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003ePlugin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e worktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e })\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estateFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e.opencode\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eralph\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estate.json\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e loadJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRalphState\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estateFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eversion\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {} });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etoast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    message\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    variant\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003einfo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esuccess\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ewarning\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003einfo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  ):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003evoid\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etui\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eshowToast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({ \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003ebody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003etitle\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessage\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003evariant\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e } });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epersist\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e ()\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e saveJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estateFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e reason\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    s\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e false\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e persist\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eStopped: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ereason\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ewarning\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estart\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e promptArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e maxArg\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stripArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisAbsolute\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e raw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ereal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e abs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      real\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003erealpath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e catch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e      // ignore\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e real\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRefusing to start: prompt file is outside repo (\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epromptArg\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estat\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ereal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e())\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enot file\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e catch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRefusing to start: prompt file not found (\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epromptArg\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereadFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ereal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elintErrors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e lintPrompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elintErrors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ePrompt file lint failed:\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003elintErrors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      maxArg\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e /\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e^\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e0-9\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eString\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaxArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eNumber\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaxArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eDEFAULT_MAX_ITERATIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e = {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      enabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003etrue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      promptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003erelative\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ereal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      maxIterations\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      iteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e persist\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eEnabled (max \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e) using \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e].\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esuccess\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    );\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eguardBash\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRalphSession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptRel\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e normalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esimulatedCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e worktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eassertInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabsPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e operation\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e absPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing to \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eoperation\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e outside repo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolveFromCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaybePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisAbsolute\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaybePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaybePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esimulatedCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e maybePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eseg\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esplitShellSegments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stripEnvPrefixes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etokenize\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eseg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e      // Track `cd` so relative destructive ops resolve correctly.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ecd\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing ambiguous cd\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e`$\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eString\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing non-literal cd target\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalized\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e normalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eString\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalized\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e~\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalized\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e$HOME\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalized\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e${HOME}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        )\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing cd to home paths\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e resolveFromCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eString\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e        assertInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ecd\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e        simulatedCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e next\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esudo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: sudo is disabled\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003egit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: git push is disabled\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003egit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eclean\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esome\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003et\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003et\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eincludes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e-f\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: git clean with -f is disabled\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisRm\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003erm\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ermdir\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisGitRm\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003egit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003erm\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisMv\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emv\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisGitMv\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003egit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emv\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e      // Prevent prompt file moves/renames (and prevent moving files outside repo).\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisMv\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisGitMv\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoffset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e isGitMv\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e2\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epaths\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e rmTargetsFromArgs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoffset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erawTok\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epaths\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e          const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erawTok\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e`$\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing non-literal mv path\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e          const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e resolveFromCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e            throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: cannot move/rename the prompt file\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e          assertInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emove files\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisRm\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; !\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisGitRm\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoffset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e isGitRm\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e2\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etargets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e rmTargetsFromArgs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoffset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erawTok\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etargets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erawTok\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e`$\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing non-literal rm target\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e normalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereplace\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#BDA437\"\u003e\\/\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e        // Block the classic \"oops\" wipes.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing repo wipe\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e/*\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing disk wipe\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e~\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e$HOME\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e${HOME}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        )\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing home paths\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e        // Protect the prompt file.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptRel\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: cannot delete the prompt file\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e resolveFromCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: cannot delete the prompt file\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing to delete repo root\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e        assertInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003edelete files\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003erunIteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRalphSession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eiteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e \u003e=\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emax iterations reached (\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptReal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptContents\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereadFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptReal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eiteration\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e persist\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eIteration \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eiteration\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003einfo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emsg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;ralph_iteration number=\"\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eiteration\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\" max=\"\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;ralph_rules\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Task spec: follow the content in \u0026#x3C;task_prompt_file\u003e.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Read `## Progress` as you may have already started coding and done some work.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Focus: pick the single most useful next step you can complete now.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Make concrete progress in implementing the features/functionality described in that doc. Do this by coding in this repo/working directory.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Once you are done, update the prompt file, especially `## Progress`, to be accurate with your progress so far.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- In `## Progress`, record: what you changed, current status, next step, and any verification results/errors.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Keep the prompt file concise and current; it is durable memory (chat may be compacted).\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Use ## Acceptance Criteria to define done; use ## Verification to prove it.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- If a command is blocked/denied, do not retry it; choose a safer alternative and note it in ## Progress.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- If stuck, log the blocker and what you tried in ## Progress, then attempt the next best approach.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Completion: only when fully complete and verified, end your final message with a line containing only: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eDONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;/ralph_rules\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;task_prompt_file path=\"\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      promptContents\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;/task_prompt_file\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;/ralph_iteration\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    ].\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eprompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      body\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eagent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eralph\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: [{ \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emsg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e }] },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003echat.message\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eChatMessageInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eChatMessageOutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) =\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e textFromParts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eincludes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eCONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003econtrol\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e parseControl\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003econtrol\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eCould not parse RALPH_CONTROL JSON\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003econtrol\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg2\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003econtrol\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg2\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eUsage: /ralph @prompt.md [max]  OR  /ralph stop\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estop\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emanual stop\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e start\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg2\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e    event\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e ({ \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eevent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e }: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eIdleEventInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) =\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eevent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession.idle\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e event\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eproperties\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessagesResult\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003emessages\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e          path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e          query\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elimit\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e25\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e SessionMessagesResponse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessages\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e messagesResult\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edata\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elastAssistant\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [...\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessages\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e].\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereverse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e().\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003efind\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003em\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e m\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einfo\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erole\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eassistant\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elastAssistant\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e hasDone\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etextFromParts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elastAssistant\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ??\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [])))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          return\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eDONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      } \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e        // ignore\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e runIteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etool.execute.before\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eToolExecuteInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eToolExecuteOutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) =\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ebash\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e        guardBash\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eread\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e input\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ewrite\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e input\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eedit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e output\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e filePath\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisAbsolute\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e filePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e Error\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: file access outside repo is disabled\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"19:T13ad,"])</script><script>self.__next_f.push([1,"/// \u003creference path=\"../types/shims.d.ts\" /\u003e\n\nimport fs from \"node:fs/promises\";\nimport path from \"node:path\";\n\nexport const CONTROL_PREFIX = \"RALPH_CONTROL:\";\nexport const DONE_TOKEN = \"RALPH_DONE\";\nexport const DEFAULT_MAX_ITERATIONS = 25;\n\nexport const REQUIRED_SECTIONS = [\n  \"Goal\",\n  \"Acceptance Criteria\",\n  \"Verification\",\n  \"Progress\",\n] as const;\nexport const REQUIRED_NONEMPTY = [\"Goal\", \"Acceptance Criteria\", \"Verification\"] as const;\n\nexport const isPathInside = (root: string, target: string) =\u003e {\n  const rel = path.relative(root, target);\n  return rel === \"\" || (!rel.startsWith(`..${path.sep}`) \u0026\u0026 rel !== \"..\");\n};\n\nexport const stripArg = (value: unknown) =\u003e {\n  const s = String(value ?? \"\").trim();\n  const unquoted =\n    (s.startsWith('\"') \u0026\u0026 s.endsWith('\"')) || (s.startsWith(\"'\") \u0026\u0026 s.endsWith(\"'\"))\n      ? s.slice(1, -1)\n      : s;\n  return unquoted.startsWith(\"@\") ? unquoted.slice(1) : unquoted;\n};\n\nconst escapeRe = (s: string) =\u003e s.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$\u0026\");\n\nconst sectionBody = (md: string, title: string) =\u003e {\n  const re = new RegExp(\n    `^#{1,6}\\\\s+${escapeRe(title)}\\\\s*$\\\\r?\\\\n([\\\\s\\\\S]*?)(?=^#{1,6}\\\\s+|\\\\Z)`,\n    \"im\",\n  );\n  const m = re.exec(md);\n  return m ? m[1].trim() : null;\n};\n\nexport const lintPrompt = (md: string) =\u003e {\n  const errors: string[] = [];\n\n  for (const s of REQUIRED_SECTIONS) {\n    if (sectionBody(md, s) === null) errors.push(`Missing section heading: ${s}`);\n  }\n\n  for (const s of REQUIRED_NONEMPTY) {\n    const body = sectionBody(md, s);\n    if (body !== null \u0026\u0026 !body) errors.push(`Section must not be empty: ${s}`);\n  }\n\n  return errors;\n};\n\nexport const loadJson = async \u003cT\u003e(filePath: string, fallback: T): Promise\u003cT\u003e =\u003e {\n  try {\n    return JSON.parse(await fs.readFile(filePath, \"utf8\")) as T;\n  } catch {\n    return fallback;\n  }\n};\n\nexport const saveJson = async (filePath: string, value: unknown) =\u003e {\n  await fs.mkdir(path.dirname(filePath), { recursive: true });\n  await fs.writeFile(filePath, `${JSON.stringify(value, null, 2)}\\n`, \"utf8\");\n};\n\ntype TextPartLike = { type: \"text\"; text: string };\n\nexport const textFromParts = (parts: unknown[]) =\u003e\n  (Array.isArray(parts) ? parts : [])\n    .filter((p): p is TextPartLike =\u003e {\n      if (typeof p !== \"object\" || p === null) return false;\n      const candidate = p as { type?: unknown; text?: unknown };\n      return candidate.type === \"text\" \u0026\u0026 typeof candidate.text === \"string\";\n    })\n    .map((p) =\u003e p.text)\n    .join(\"\\n\");\n\nexport const hasDone = (text: string) =\u003e\n  String(text)\n    .split(/\\r?\\n/)\n    .some((l) =\u003e l.trim() === DONE_TOKEN);\n\nexport const parseControl = (text: string) =\u003e {\n  const line = String(text)\n    .split(/\\r?\\n/)\n    .map((l) =\u003e l.trim())\n    .find((l) =\u003e l.startsWith(CONTROL_PREFIX));\n\n  if (!line) return null;\n\n  try {\n    return JSON.parse(line.slice(CONTROL_PREFIX.length).trim()) as {\n      arg1?: unknown;\n      arg2?: unknown;\n      arg3?: unknown;\n    };\n  } catch {\n    return null;\n  }\n};\n\nexport const tokenize = (cmd: string) =\u003e {\n  const out: string[] = [];\n  let cur = \"\";\n  let q: '\"' | \"'\" | null = null;\n\n  for (let i = 0; i \u003c cmd.length; i++) {\n    const c = cmd[i];\n\n    if (q) {\n      if (c === q) q = null;\n      else cur += c;\n      continue;\n    }\n\n    if (c === '\"' || c === \"'\") {\n      q = c;\n      continue;\n    }\n\n    if (/\\s/.test(c)) {\n      if (cur) out.push(cur);\n      cur = \"\";\n      continue;\n    }\n\n    cur += c;\n  }\n\n  if (cur) out.push(cur);\n  return out;\n};\n\nexport const normalizeRelToken = (t: string) =\u003e\n  String(t).replace(/\\\\/g, \"/\").replace(/^\\.\\//, \"\").trim();\n\nexport const splitShellSegments = (command: string) =\u003e {\n  const segments: string[] = [];\n  let cur = \"\";\n  let q: '\"' | \"'\" | null = null;\n\n  const flush = () =\u003e {\n    const trimmed = cur.trim();\n    if (trimmed) segments.push(trimmed);\n    cur = \"\";\n  };\n\n  for (let i = 0; i \u003c command.length; i++) {\n    const c = command[i];\n\n    if (q) {\n      if (c === q) q = null;\n      cur += c;\n      continue;\n    }\n\n    if (c === '\"' || c === \"'\") {\n      q = c;\n      cur += c;\n      continue;\n    }\n\n    // Split on unquoted ;, \u0026\u0026, ||, and newlines.\n    if (c === \";\" || c === \"\\n\") {\n      flush();\n      continue;\n    }\n\n    if (c === \"\u0026\" \u0026\u0026 command[i + 1] === \"\u0026\") {\n      flush();\n      i++;\n      continue;\n    }\n\n    if (c === \"|\" \u0026\u0026 command[i + 1] === \"|\") {\n      flush();\n      i++;\n      continue;\n    }\n\n    cur += c;\n  }\n\n  flush();\n  return segments;\n};\n\nconst envAssignmentRe = /^[A-Za-z_][A-Za-z0-9_]*=.*/;\n\nexport const stripEnvPrefixes = (tokens: string[]) =\u003e {\n  let i = 0;\n  if (tokens[i] === \"env\") i++;\n  while (i \u003c tokens.length \u0026\u0026 envAssignmentRe.test(tokens[i] ?? \"\")) i++;\n  return tokens.slice(i);\n};\n\nexport const rmTargetsFromArgs = (args: string[]) =\u003e {\n  const targets: string[] = [];\n  let passthrough = false;\n\n  for (const a of args) {\n    if (!passthrough \u0026\u0026 a === \"--\") {\n      passthrough = true;\n      continue;\n    }\n\n    if (!passthrough \u0026\u0026 a.startsWith(\"-\")) continue;\n    targets.push(a);\n  }\n\n  return targets;\n};\n"])</script><script>self.__next_f.push([1,"1a:Te43f,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e/// \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereference\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e../types/shims.d.ts\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:fs/promises\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:path\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eCONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRALPH_CONTROL:\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eDONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRALPH_DONE\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eDEFAULT_MAX_ITERATIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 25\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eREQUIRED_SECTIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e  \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eGoal\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e  \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eAcceptance Criteria\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e  \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eVerification\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e  \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eProgress\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eREQUIRED_NONEMPTY\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eGoal\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eAcceptance Criteria\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eVerification\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eroot\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e target\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erel\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003erelative\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eroot\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e target\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e rel\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erel\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e..\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esep\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erel\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !== \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e..\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estripArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003evalue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003evalue\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eunquoted\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eendsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eendsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e -\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e unquoted\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e@\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eunquoted\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eunquoted\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eescapeRe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e s\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereplace\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e*+?^${}()|[\u003c/span\u003e\u003cspan style=\"color:#BDA437\"\u003e\\]\\\\\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e$\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esectionBody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e title\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ere\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eRegExp\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e^#{1,6}\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es+\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eescapeRe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etitle\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es*$\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003er?\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003en([\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eS]*?)(?=^#{1,6}\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es+|\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eZ)\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eim\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  );\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003em\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e re\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eexec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e m\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003em\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e].\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003elintPrompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eerrors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[] =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eREQUIRED_SECTIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esectionBody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e s\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e errors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eMissing section heading: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eREQUIRED_NONEMPTY\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ebody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e sectionBody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e s\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ebody\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !== null \u0026#x26;\u0026#x26; !\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ebody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e errors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eSection must not be empty: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e errors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eloadJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eT\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fallback\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eT\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eT\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eparse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereadFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e T\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e catch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fallback\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esaveJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e value\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003emkdir\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003edirname\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e),\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003erecursive\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003etrue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ewriteFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e `\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estringify\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003evalue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 2\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e TextPartLike\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e text\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etextFromParts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[])\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eArray\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisArray\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[])\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003efilter\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ep\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e is\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e TextPartLike\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eobject\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e return\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e false\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecandidate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e text\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e candidate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e typeof\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e candidate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003emap\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ep\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ehasDone\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esplit\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\r\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esome\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003el\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e DONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eparseControl\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eline\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esplit\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\r\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003emap\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003el\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e())\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003efind\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003el\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eCONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eline\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e return\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eparse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eline\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eCONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e())\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      arg1\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      arg2\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      arg3\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e catch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etokenize\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eout\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[] =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003enull\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003elet \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e cmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e cmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e q\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      else\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      q\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\s\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e out\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      cur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e out\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e out\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003enormalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003et\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003et\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereplace\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#BDA437\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereplace\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e^\u003c/span\u003e\u003cspan style=\"color:#BDA437\"\u003e\\.\\/\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esplitShellSegments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esegments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[] =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003enull\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eflush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e ()\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etrimmed\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e cur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etrimmed\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e segments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etrimmed\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    cur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003elet \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e command\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e command\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e q\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      q\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e    // Split on unquoted ;, \u0026#x26;\u0026#x26;, ||, and newlines.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e      flush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e + \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e      flush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e + \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e      flush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  flush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e segments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenvAssignmentRe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e /\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e^\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003eA-Za-z_\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e][\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003eA-Za-z0-9_\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#AB5E3F\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estripEnvPrefixes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[])\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  while\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenvAssignmentRe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ermTargetsFromArgs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[])\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etargets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[] =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epassthrough\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e false\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epassthrough\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e--\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      passthrough\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e true\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epassthrough\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    targets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e targets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"1b:T4f6,// Minimal ambient types to keep .opencode TypeScript self-contained.\n// This repo may not have Node/Bun type packages installed.\n\ndeclare type Buffer = Uint8Array;\ndeclare type BufferEncoding =\n  | \"ascii\"\n  | \"utf8\"\n  | \"utf-8\"\n  | \"utf16le\"\n  | \"ucs2\"\n  | \"ucs-2\"\n  | \"base64\"\n  | \"base64url\"\n  | \"latin1\"\n  | \"binary\"\n  | \"hex\";\n\ntype FsStats = {\n  isFile(): boolean;\n};\n\ntype FsPromises = {\n  realpath(path: string): Promise\u003cstring\u003e;\n  stat(path: string): Promise\u003cFsStats\u003e;\n  readFile(path: string, encoding: BufferEncoding): Promise\u003cstring\u003e;\n  mkdir(path: string, options?: { recursive?: boolean }): Promise\u003cstring | undefined\u003e;\n  writeFile(path: string, data: string, encoding: BufferEncoding): Promise\u003cvoid\u003e;\n};\n\ndeclare module \"fs/promises\" {\n  const fs: FsPromises;\n  export default fs;\n}\n\ndeclare module \"node:fs/promises\" {\n  const fs: FsPromises;\n  export default fs;\n}\n\ntype PathModule = {\n  join(...paths: string[]): string;\n  isAbsolute(path: string): boolean;\n  resolve(...paths: string[]): string;\n  relative(from: string, to: string): string;\n  dirname(path: string): string;\n  sep: string;\n};\n\ndeclare module \"path\" {\n  const path: PathModule;\n  export default path;\n}\n\ndeclare module \"node:path\" {\n  const path: PathModule;\n  export default path;\n}\n1c:T2f2b,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e// Minimal ambient types to keep .opencode TypeScript self-contained.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e// This repo may not have Node/Bun type packages installed.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Buffer\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Uint8Array\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e BufferEncoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eascii\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf-8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf16le\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eucs2\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eucs-2\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ebase64\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ebase64url\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003elatin1\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ebinary\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ehex\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e FsStats\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  isFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e():\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e boolean\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e FsPromises\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  realpath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  stat\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eFsStats\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  readFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e encoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eBufferEncoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  mkdir\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e options\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erecursive\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eboolean\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e }):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e |\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e undefined\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  writeFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e data\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e encoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eBufferEncoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003evoid\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e module\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003efs/promises\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eFsPromises\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  export\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e module\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:fs/promises\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eFsPromises\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  export\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e PathModule\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  join\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(...\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epaths\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[]):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  isAbsolute\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e boolean\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  resolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(...\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epaths\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[]):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  relative\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e to\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  dirname\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  sep\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e module\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003ePathModule\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  export\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e module\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:path\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003ePathModule\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  export\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"10:[\"$\",\"div\",null,{\"className\":\"min-w-0 max-w-full lg:justify-self-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-14\",\"children\":[[\"$\",\"section\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center gap-3\",\"children\":[[\"$\",\"div\",null,{\"className\":\"inline-flex items-center rounded-full border px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.08em] transition-colors border-border/70 bg-white/70 text-muted-foreground\",\"children\":\"OpenCode ready\"}],[\"$\",\"div\",null,{\"className\":\"inline-flex items-center rounded-full border px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.08em] transition-colors border-border/70 bg-white/70 text-muted-foreground\",\"children\":[1,\" \",\"variant\"]}]]}],[\"$\",\"div\",null,{\"className\":\"space-y-3\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl\",\"children\":\"Ralph Loop\"}],[\"$\",\"p\",null,{\"className\":\"text-lg text-muted-foreground\",\"children\":\"Iterative loop for OpenCode that advances one step per run from a prompt file.\"}]]}],[\"$\",\"section\",null,{\"id\":\"overview\",\"className\":\"scroll-mt-24 space-y-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"markdown\",\"children\":\"$L12\"}]}]]}],[\"$\",\"section\",null,{\"id\":\"install\",\"className\":\"scroll-mt-24 space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center justify-between gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-2\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground\",\"children\":\"Installation\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight text-slate-900\",\"children\":\"Install\"}]]}],[\"$\",\"div\",null,{\"className\":\"min-w-[220px]\",\"children\":[\"$\",\"select\",null,{\"aria-label\":\"Platform\",\"defaultValue\":\"opencode\",\"className\":\"w-full rounded-xl border border-border/70 bg-white/80 px-3 py-2 text-sm font-medium text-foreground shadow-sm\",\"children\":[[\"$\",\"option\",null,{\"value\":\"opencode\",\"children\":\"OpenCode\"}],[\"$\",\"option\",null,{\"value\":\"claude\",\"disabled\":true,\"children\":\"Claude Code (soon)\"}],[\"$\",\"option\",null,{\"value\":\"codex\",\"disabled\":true,\"children\":\"Codex CLI (soon)\"}]]}]}]]}],[\"$\",\"div\",null,{\"className\":\"rounded-2xl border border-border/70 bg-white/80 p-6 shadow-sm\",\"children\":[\"$\",\"$L13\",null,{\"opencodeVariant\":{\"$schema\":\"https://ui.shadcn.com/schema/registry-item.json\",\"name\":\"ralph-loop-opencode\",\"type\":\"registry:item\",\"title\":\"OpenCode Ralph Loop\",\"description\":\"Ralph loop agent, command, and plugin for OpenCode.\",\"meta\":{\"concept\":\"ralph-loop\",\"platform\":\"opencode\",\"kind\":[\"agent\",\"command\",\"plugin\"]},\"files\":[{\"path\":\"registry/ralph-loop/opencode/files/agent/ralph.md\",\"type\":\"registry:file\",\"target\":\"~/.opencode/agent/ralph.md\"},{\"path\":\"registry/ralph-loop/opencode/files/command/ralph.md\",\"type\":\"registry:file\",\"target\":\"~/.opencode/command/ralph.md\"},{\"path\":\"registry/ralph-loop/opencode/files/plugin/ralph-loop.ts\",\"type\":\"registry:file\",\"target\":\"~/.opencode/plugin/ralph-loop.ts\"},{\"path\":\"registry/ralph-loop/opencode/files/ralph/ralph-utils.ts\",\"type\":\"registry:file\",\"target\":\"~/.opencode/ralph/ralph-utils.ts\"},{\"path\":\"registry/ralph-loop/opencode/files/types/shims.d.ts\",\"type\":\"registry:file\",\"target\":\"~/.opencode/types/shims.d.ts\"}],\"docs\":\"Restart OpenCode after installing to register the /ralph command. Targets prefixed with ~ are repo-scoped (project-root) paths.\"},\"installCommand\":\"npx shadcn@latest add https://brennanmceachran.github.io/agent-utils/ralph-loop-opencode.json\",\"installCommandHtml\":\"\u003cpre class=\\\"shiki vitesse-light\\\" style=\\\"background-color:#ffffff;color:#393a34\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#59873A\\\"\u003enpx\u003c/span\u003e\u003cspan style=\\\"color:#B56959\\\"\u003e shadcn@latest\u003c/span\u003e\u003cspan style=\\\"color:#B56959\\\"\u003e add\u003c/span\u003e\u003cspan style=\\\"color:#B56959\\\"\u003e https://brennanmceachran.github.io/agent-utils/ralph-loop-opencode.json\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\",\"codeBlocks\":[{\"id\":\"registry-ralph-loop-opencode-files-agent-ralph-md\",\"label\":\"agent/ralph.md\",\"path\":\"registry/ralph-loop/opencode/files/agent/ralph.md\",\"target\":\"~/.opencode/agent/ralph.md\",\"raw\":\"$14\",\"html\":\"$15\",\"language\":\"markdown\"},{\"id\":\"registry-ralph-loop-opencode-files-command-ralph-md\",\"label\":\"command/ralph.md\",\"path\":\"registry/ralph-loop/opencode/files/command/ralph.md\",\"target\":\"~/.opencode/command/ralph.md\",\"raw\":\"---\\ndescription: Start/stop a Ralph loop on a prompt file\\nagent: ralph\\n---\\n\\nRALPH_CONTROL: {\\\"arg1\\\":\\\"$1\\\",\\\"arg2\\\":\\\"$2\\\",\\\"arg3\\\":\\\"$3\\\"}\\n\\nThis command sends a control message that the Ralph loop plugin listens for.\\n\\n- If `$1` is `stop`, stop the Ralph loop.\\n- Otherwise, treat `$1` as the prompt file reference and `$2` as an optional max-iterations number.\\n\\nRespond with a brief acknowledgement only. Do not run tools in response to this control message.\\n\",\"html\":\"$16\",\"language\":\"markdown\"},{\"id\":\"registry-ralph-loop-opencode-files-plugin-ralph-loop-ts\",\"label\":\"plugin/ralph-loop.ts\",\"path\":\"registry/ralph-loop/opencode/files/plugin/ralph-loop.ts\",\"target\":\"~/.opencode/plugin/ralph-loop.ts\",\"raw\":\"$17\",\"html\":\"$18\",\"language\":\"ts\"},{\"id\":\"registry-ralph-loop-opencode-files-ralph-ralph-utils-ts\",\"label\":\"ralph/ralph-utils.ts\",\"path\":\"registry/ralph-loop/opencode/files/ralph/ralph-utils.ts\",\"target\":\"~/.opencode/ralph/ralph-utils.ts\",\"raw\":\"$19\",\"html\":\"$1a\",\"language\":\"ts\"},{\"id\":\"registry-ralph-loop-opencode-files-types-shims-d-ts\",\"label\":\"types/shims.d.ts\",\"path\":\"registry/ralph-loop/opencode/files/types/shims.d.ts\",\"target\":\"~/.opencode/types/shims.d.ts\",\"raw\":\"$1b\",\"html\":\"$1c\",\"language\":\"ts\"}]}]}]]}],\"$L1d\",\"$L1e\",\"$L1f\",\"$L20\"]}]}]\n"])</script><script>self.__next_f.push([1,"11:[\"$\",\"aside\",null,{\"className\":\"hidden xl:flex xl:flex-col xl:sticky xl:top-20 xl:h-[calc(100vh-6rem)] xl:justify-self-end xl:overflow-y-auto xl:pl-2\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground\",\"children\":\"On this page\"}],[\"$\",\"nav\",null,{\"className\":\"space-y-2 text-sm text-muted-foreground\",\"children\":[[\"$\",\"a\",\"overview\",{\"href\":\"#overview\",\"className\":\"block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground\",\"children\":\"Overview\"}],[\"$\",\"a\",\"install\",{\"href\":\"#install\",\"className\":\"block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground\",\"children\":\"Installation\"}],[\"$\",\"a\",\"usage\",{\"href\":\"#usage\",\"className\":\"block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground\",\"children\":\"Usage\"}],[\"$\",\"a\",\"examples\",{\"href\":\"#examples\",\"className\":\"block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground\",\"children\":\"Examples\"}],[\"$\",\"a\",\"notes\",{\"href\":\"#notes\",\"className\":\"block rounded-md px-2 py-1 transition hover:bg-muted/60 hover:text-foreground\",\"children\":\"Notes\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"25:I[57084,[\"/agent-utils/_next/static/chunks/88049d1610f79db3.js\",\"/agent-utils/_next/static/chunks/122bbe670a0c62fe.js\",\"/agent-utils/_next/static/chunks/28ac2bf59af5b750.js\"],\"TweetActionsRow\"]\n"])</script><script>self.__next_f.push([1,"1d:[\"$\",\"section\",null,{\"className\":\"space-y-6\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-2xl border border-border/70 text-card-foreground shadow-sm backdrop-blur bg-white/80\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-2 p-6\",\"children\":[\"$\",\"h3\",null,{\"ref\":\"$undefined\",\"className\":\"text-base font-semibold tracking-tight\",\"children\":\"Quick start\"}]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"markdown\",\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"What this gives you\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"A bounded loop that advances one useful step per iteration.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"A progress log written back into the prompt file after each run.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"The ability to let an agent grind through the happy path for hours.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Inspired by the Claude Code Ralph Wiggum loop technique.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"I have run this for 4-5 hours on gpt-5.2-codex (extra high reasoning) without babysitting.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Try it\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Create a PRD file (template below).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Switch to the \",[\"$\",\"strong\",null,{\"children\":\"Ralph\"}],\" agent and run:\"]}],\"\\n\"]}],\"\\n\",\"$L21\",\"\\n\",[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Watch it work! The loop will continue until the agent responds with \",[\"$\",\"code\",null,{\"children\":\"RALPH_DONE\"}],\", then re-run or you manually stop it \",[\"$\",\"code\",null,{\"children\":\"/ralph stop\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"???\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Profit.\"}],\"\\n\"]}]]}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"1e:[\"$\",\"section\",null,{\"id\":\"usage\",\"className\":\"scroll-mt-24 space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-2\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground\",\"children\":\"Usage\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight text-slate-900\",\"children\":\"How to use it well\"}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-2xl border border-border/70 bg-card/80 text-card-foreground shadow-sm backdrop-blur\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"markdown\",\"children\":[[\"$\",\"h3\",null,{\"children\":\"1) Draft a PRD (validator-required sections)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Ralph validates the prompt file. These headings are required and must be non-empty:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Goal\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Acceptance Criteria\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Verification\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Progress\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Below is a template. Copy it and fill it out replace with your details. Leave the Progress section alone.\"}],\"\\n\",\"$L22\",\"\\n\",[\"$\",\"h3\",null,{\"children\":\"2) Set the model\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Pick a model that can grind:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"gpt-5.2-codex (extra high reasoning)\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Opus 4.5\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"3) Switch to the Ralph agent\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Tab through agents until the status reads \",[\"$\",\"code\",null,{\"children\":\"ralph\"}],\".\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"4) Run the loop\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The Ralph commands has two parameters:\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"The path to the PRD file\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"The max number of iterations to run (default 25)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Start with 5 iterations until you get the hang of it:\"}],\"\\n\",\"$L23\",\"\\n\",[\"$\",\"p\",null,{\"children\":\"Then up as needed:\"}],\"\\n\",\"$L24\",\"\\n\",[\"$\",\"h3\",null,{\"children\":\"5) How the loop behaves\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"It will keep smashing your prompt back into the loop until it outputs \",[\"$\",\"code\",null,{\"children\":\"RALPH_DONE\"}],\" or hits the max iteration cap. That is the point: run the happy path for hours without babysitting.\\nEach iteration writes Progress back into the PRD. So the next turn picks up where the last left off.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The configs auto accept everything, but stop git push and attemp to stop any destructive actions.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"6) Need to steer every once and a while?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Because this is in Opencode UI, you can interact with the loop while it's running.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Just type a message and hit enter. OpenCode will insert it at the next available moment nudging the agent in the right direction.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"However, I find the models \",[\"$\",\"em\",null,{\"children\":\"eventually\"}],\" get there so try to resist the urg.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"7) Stop the loop\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Press Ctrl+C\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Or run \",[\"$\",\"code\",null,{\"children\":\"/ralph stop\"}]]}],\"\\n\"]}]]}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"1f:[\"$\",\"section\",null,{\"id\":\"examples\",\"className\":\"scroll-mt-24 space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-2\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground\",\"children\":\"Examples\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight text-slate-900\",\"children\":\"Shared runs\"}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-2xl border border-border/70 bg-card/80 text-card-foreground shadow-sm backdrop-blur\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"markdown\",\"children\":[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"Thread\"}],[\"$\",\"th\",null,{\"children\":\"Platform\"}],[\"$\",\"th\",null,{\"children\":\"What it shows\"}],[\"$\",\"th\",null,{\"children\":\"Link\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"Summarizing RALPH_CONTROL loop control message\"}],[\"$\",\"td\",null,{\"children\":\"OpenCode\"}],[\"$\",\"td\",null,{\"children\":\"Loop run with progress updates and status tracking.\"}],[\"$\",\"td\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://opncd.ai/share/M2rXLsAD\",\"children\":\"Open thread\"}]}]]}]}]]}]}]}]}]]}]\n20:[\"$\",\"section\",null,{\"id\":\"notes\",\"className\":\"scroll-mt-24 space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-2\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-xs font-semibold uppercase tracking-[0.24em] text-muted-foreground\",\"children\":\"Notes\"}],[\"$\",\"h2\",null,{\"className\":\"text-2xl font-semibold tracking-tight text-slate-900\",\"children\":\"Notes\"}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-2xl border border-border/70 bg-card/80 text-card-foreground shadow-sm backdrop-blur\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"markdown\",\"children\":[\"$\",\"p\",null,{\"children\":\"Restart OpenCode after installing to register the /ralph command. Prefer file-based prompts (use @path) for long instructions and multi-line edits.\"}]}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"12:[\"$\",\"div\",null,{\"className\":\"overflow-hidden rounded-2xl border border-border/70 bg-card/80 shadow-sm backdrop-blur\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative w-full bg-slate-950\",\"style\":{\"aspectRatio\":\"16 / 9\"},\"children\":[\"$\",\"video\",null,{\"className\":\"h-full w-full object-contain\",\"controls\":true,\"playsInline\":true,\"preload\":\"metadata\",\"poster\":\"https://pbs.twimg.com/amplify_video_thumb/2008553648259833857/img/jCIcCvbMkveN3wem.jpg\",\"aria-label\":\"Tweet video\",\"crossOrigin\":\"anonymous\",\"children\":[[\"$\",\"source\",null,{\"src\":\"https://video.twimg.com/amplify_video/2008553648259833857/vid/avc1/1920x1080/1iXg1c3O9Kfy8nqX.mp4\",\"type\":\"video/mp4\"}],[\"$\",\"track\",null,{\"kind\":\"captions\",\"srcLang\":\"en\",\"label\":\"English\",\"src\":\"data:text/vtt,WEBVTT\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"bg-card/80 px-6 py-4 border-t border-border/70\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative\",\"children\":[[\"$\",\"p\",null,{\"className\":\"pr-16 text-sm leading-snug text-slate-700\",\"style\":{\"display\":\"-webkit-box\",\"WebkitLineClamp\":2,\"WebkitBoxOrient\":\"vertical\",\"overflow\":\"hidden\"},\"children\":[[\"$\",\"span\",\"text-0-18\",{\"children\":\"Ralph achieved in \"}],[\"$\",\"a\",\"mention-18-27\",{\"href\":\"https://x.com/opencode\",\"target\":\"_blank\",\"rel\":\"noreferrer\",\"className\":\"font-medium text-slate-700 underline decoration-transparent underline-offset-2 transition hover:text-slate-900 hover:decoration-slate-300\",\"children\":\"@opencode\"}],[\"$\",\"span\",\"text-27-278\",{\"children\":\"! Running a Ralph loop right now to Migrate DB and ORMs on GPT-5.2-extra-high thinking\\n\\nA ralph agent, /command, plugin (for stop events and notifications), a linter on the prompt file, + extra security so it accepts basically everything except overly\"}]]}],[\"$\",\"a\",null,{\"href\":\"https://x.com/i_am_brennan/status/2008554594029240467\",\"target\":\"_blank\",\"rel\":\"noreferrer\",\"className\":\"absolute bottom-0 right-1 z-10 whitespace-nowrap rounded-full bg-card/95 px-1.5 py-0.5 text-[0.7rem] font-medium text-muted-foreground shadow-sm transition hover:text-foreground\",\"children\":\"Show more\"}]]}],[\"$\",\"$L25\",null,{\"tweetUrl\":\"https://x.com/i_am_brennan/status/2008554594029240467\",\"likeUrl\":\"https://x.com/intent/like?tweet_id=2008554594029240467\",\"replyUrl\":\"https://x.com/intent/tweet?in_reply_to=2008554594029240467\",\"likeCount\":7,\"user\":{\"id_str\":\"36600404\",\"name\":\"Brennan McEachran \",\"screen_name\":\"i_am_brennan\",\"is_blue_verified\":true,\"profile_image_shape\":\"Circle\",\"verified\":false,\"profile_image_url_https\":\"https://pbs.twimg.com/profile_images/1909611582146912256/7YHaoXM8_normal.png\",\"url\":\"https://x.com/i_am_brennan\",\"follow_url\":\"https://x.com/intent/follow?screen_name=i_am_brennan\"},\"className\":\"mt-3\"}]]}]]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"title\",\"0\",{\"children\":\"Ralph Loop | Agent Utils Registry\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Iterative loop for OpenCode that advances one step per run from a prompt file.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"referrer\",\"content\":\"no-referrer\"}],[\"$\",\"link\",\"3\",{\"rel\":\"canonical\",\"href\":\"https://brennanmceachran.github.io/agent-utils/registry/ralph-loop/\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Ralph Loop | Agent Utils\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Iterative loop for OpenCode that advances one step per run from a prompt file.\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:url\",\"content\":\"https://brennanmceachran.github.io/agent-utils/registry/ralph-loop/\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image\",\"content\":\"https://brennanmceachran.github.io/agent-utils/registry/ralph-loop/opengraph-image\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:image\",\"content\":\"https://pbs.twimg.com/amplify_video_thumb/2008553648259833857/img/jCIcCvbMkveN3wem.jpg\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:video\",\"content\":\"https://video.twimg.com/amplify_video/2008553648259833857/vid/avc1/1920x1080/1iXg1c3O9Kfy8nqX.mp4\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:video:type\",\"content\":\"video/mp4\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:title\",\"content\":\"Ralph Loop | Agent Utils\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:description\",\"content\":\"Iterative loop for OpenCode that advances one step per run from a prompt file.\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:image\",\"content\":\"https://brennanmceachran.github.io/agent-utils/registry/ralph-loop/opengraph-image\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:image\",\"content\":\"https://pbs.twimg.com/amplify_video_thumb/2008553648259833857/img/jCIcCvbMkveN3wem.jpg\"}]]\n"])</script><script>self.__next_f.push([1,"7:null\n"])</script><script>self.__next_f.push([1,"21:[\"$\",\"div\",null,{\"className\":\"mt-3 overflow-x-auto rounded-xl border border-border/60 bg-muted/40 p-4 text-xs text-foreground\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-[13px]\",\"children\":[\"$\",\"pre\",null,{\"className\":\"shiki vitesse-light\",\"style\":{\"backgroundColor\":\"#ffffff\",\"color\":\"#393a34\"},\"tabIndex\":\"0\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#59873A\"},\"children\":\"/ralph\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#B56959\"},\"children\":\" @docs/feature-x.prd.md\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"#2F798A\"},\"children\":\" 10\"}]]}]}]}]}]}]\n"])</script><script>self.__next_f.push([1,"22:[\"$\",\"div\",null,{\"className\":\"mt-3 overflow-x-auto rounded-xl border border-border/60 bg-muted/40 p-4 text-xs text-foreground\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-[13px]\",\"children\":[\"$\",\"pre\",null,{\"className\":\"shiki vitesse-light\",\"style\":{\"backgroundColor\":\"#ffffff\",\"color\":\"#393a34\"},\"tabIndex\":\"0\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#999999\",\"fontWeight\":\"bold\"},\"children\":\"#\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#1C6B48\",\"fontWeight\":\"bold\"},\"children\":\" PRD: \u003cFeature name\u003e\"}]]}],\"\\n\",[\"$\",\"span\",\"2\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"4\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#999999\",\"fontWeight\":\"bold\"},\"children\":\"##\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#1C6B48\",\"fontWeight\":\"bold\"},\"children\":\" TL;DR\"}]]}],\"\\n\",[\"$\",\"span\",\"6\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"8\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#A65E2B\"},\"children\":\"-\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#393A34\"},\"children\":\" One sentence: what are we shipping?\"}]]}],\"\\n\",[\"$\",\"span\",\"10\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"12\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#999999\",\"fontWeight\":\"bold\"},\"children\":\"##\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#1C6B48\",\"fontWeight\":\"bold\"},\"children\":\" Goal\"}]]}],\"\\n\",[\"$\",\"span\",\"14\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"16\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#A65E2B\"},\"children\":\"-\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#393A34\"},\"children\":\" What outcome should exist when done?\"}]]}],\"\\n\",[\"$\",\"span\",\"18\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"20\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#999999\",\"fontWeight\":\"bold\"},\"children\":\"##\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#1C6B48\",\"fontWeight\":\"bold\"},\"children\":\" Constraints\"}]]}],\"\\n\",[\"$\",\"span\",\"22\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"24\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#A65E2B\"},\"children\":\"-\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#393A34\"},\"children\":\" Tech constraints, deadlines, guardrails.\"}]]}],\"\\n\",[\"$\",\"span\",\"26\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"28\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#999999\",\"fontWeight\":\"bold\"},\"children\":\"##\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#1C6B48\",\"fontWeight\":\"bold\"},\"children\":\" Acceptance Criteria\"}]]}],\"\\n\",[\"$\",\"span\",\"30\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"32\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#A65E2B\"},\"children\":\"-\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#393A34\"},\"children\":\" [ ] Observable success conditions\"}]]}],\"\\n\",[\"$\",\"span\",\"34\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#A65E2B\"},\"children\":\"-\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#393A34\"},\"children\":\" [ ] Edge cases you care about\"}]]}],\"\\n\",[\"$\",\"span\",\"36\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"38\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#999999\",\"fontWeight\":\"bold\"},\"children\":\"##\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#1C6B48\",\"fontWeight\":\"bold\"},\"children\":\" Verification\"}]]}],\"\\n\",[\"$\",\"span\",\"40\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"42\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#A65E2B\"},\"children\":\"-\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#393A34\"},\"children\":\" Tests or manual checks that prove it works\"}]]}],\"\\n\",[\"$\",\"span\",\"44\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"46\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#999999\",\"fontWeight\":\"bold\"},\"children\":\"##\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#1C6B48\",\"fontWeight\":\"bold\"},\"children\":\" Notes\"}]]}],\"\\n\",[\"$\",\"span\",\"48\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"50\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#A65E2B\"},\"children\":\"-\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#393A34\"},\"children\":\" Anything the loop should remember each iteration\"}]]}],\"\\n\",[\"$\",\"span\",\"52\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"54\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#999999\",\"fontWeight\":\"bold\"},\"children\":\"##\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#1C6B48\",\"fontWeight\":\"bold\"},\"children\":\" Progress\"}]]}],\"\\n\",[\"$\",\"span\",\"56\",{\"className\":\"line\",\"children\":\"$undefined\"}],\"\\n\",[\"$\",\"span\",\"58\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"It's your job to update the progress field every time you make a change. The purpose of this is to ensure the next developer knows what you did, what's done, any decisions or assumptions you made, and is able to continue working. If you've made changes, please copy and paste this template to the bottom of the progress and edit to add your notes.\"}]}],\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\"]}]}]}]}]\n"])</script><script>self.__next_f.push([1,"23:[\"$\",\"div\",null,{\"className\":\"mt-3 overflow-x-auto rounded-xl border border-border/60 bg-muted/40 p-4 text-xs text-foreground\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-[13px]\",\"children\":[\"$\",\"pre\",null,{\"className\":\"shiki vitesse-light\",\"style\":{\"backgroundColor\":\"#ffffff\",\"color\":\"#393a34\"},\"tabIndex\":\"0\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#59873A\"},\"children\":\"/ralph\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#B56959\"},\"children\":\" @docs/feature-x.prd.md\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"#2F798A\"},\"children\":\" 5\"}]]}]}]}]}]}]\n24:[\"$\",\"div\",null,{\"className\":\"mt-3 overflow-x-auto rounded-xl border border-border/60 bg-muted/40 p-4 text-xs text-foreground\",\"children\":[\"$\",\"div\",null,{\"className\":\"text-[13px]\",\"children\":[\"$\",\"pre\",null,{\"className\":\"shiki vitesse-light\",\"style\":{\"backgroundColor\":\"#ffffff\",\"color\":\"#393a34\"},\"tabIndex\":\"0\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#59873A\"},\"children\":\"/ralph\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#B56959\"},\"children\":\" @docs/feature-x.prd.md\"}],[\"$\",\"span\",\"2\",{\"style\":{\"color\":\"#2F798A\"},\"children\":\" 50\"}]]}]}]}]}]}]\n"])</script><script>self.__next_f.push([1,"26:[\"$\",\"span\",\"60\",{\"className\":\"line\",\"children\":\"$undefined\"}]\n27:[\"$\",\"span\",\"62\",{\"className\":\"line\",\"children\":[[\"$\",\"span\",\"0\",{\"style\":{\"color\":\"#999999\"},\"children\":\"```\"}],[\"$\",\"span\",\"1\",{\"style\":{\"color\":\"#393A34\"},\"children\":\"template\"}]]}]\n28:[\"$\",\"span\",\"64\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"### {{Title}} - {{Date}}\"}]}]\n29:[\"$\",\"span\",\"66\",{\"className\":\"line\",\"children\":\"$undefined\"}]\n2a:[\"$\",\"span\",\"68\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"- {{Summary}}\"}]}]\n2b:[\"$\",\"span\",\"70\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"- {{Decisions}}\"}]}]\n2c:[\"$\",\"span\",\"72\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"- {{Assumptions}}\"}]}]\n2d:[\"$\",\"span\",\"74\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"- {{Risks}}\"}]}]\n2e:[\"$\",\"span\",\"76\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"- {{Status}}\"}]}]\n2f:[\"$\",\"span\",\"78\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"- Best guess at what comes next \u0026 why:\"}]}]\n30:[\"$\",\"span\",\"80\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"  - {{Next}}\"}]}]\n31:[\"$\",\"span\",\"82\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"  - {{Next?}}\"}]}]\n32:[\"$\",\"span\",\"84\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#999999\"},\"children\":\"```\"}]}]\n33:[\"$\",\"span\",\"86\",{\"className\":\"line\",\"children\":\"$undefined\"}]\n34:[\"$\",\"span\",\"88\",{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#393A34\"},\"children\":\"Add entries below this line:\"}]}]\n"])</script></body></html>