<!DOCTYPE html><!--WKKgVDXOaSgstbYIPrNkF--><html lang="en" class="h-full"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/0c89a48fa5027cee-s.p.4564287c.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/a184f9a797eb4044.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/69ffde10966ca596.js"/><script src="/_next/static/chunks/aaef058f5e8629cc.js" async=""></script><script src="/_next/static/chunks/ae1dec47b24f57db.js" async=""></script><script src="/_next/static/chunks/f8baddbda080d937.js" async=""></script><script src="/_next/static/chunks/turbopack-b01be08dfb87acaf.js" async=""></script><script src="/_next/static/chunks/e57f8bd634e3e83c.js" async=""></script><script src="/_next/static/chunks/152d0cd9196fc828.js" async=""></script><script src="/_next/static/chunks/1d56de6fa4bb4a40.js" async=""></script><meta name="next-size-adjust" content=""/><title>Agent Utils Registry</title><meta name="description" content="Index-ready registry of OpenCode agent utilities with install-ready files."/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="space_grotesk_a4177b3f-module__DCxVEW__variable min-h-full font-sans"><div hidden=""><!--$--><!--/$--></div><main class="min-h-screen bg-background"><div class="mx-auto flex w-full max-w-6xl flex-col gap-10 px-6 py-16"><header class="space-y-4"><p class="text-sm font-semibold uppercase tracking-wide text-muted-foreground">Concept</p><div class="space-y-3"><h1 class="text-3xl font-semibold tracking-tight">Ralph Loop</h1><p class="text-muted-foreground">Autonomous iteration loop for OpenCode that drives work from a prompt file.</p></div><div class="flex flex-wrap gap-2"><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">agent</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">command</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">plugin</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">workflow</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground">iteration</div></div></header><section class="grid gap-8 lg:grid-cols-[1.2fr_0.8fr]"><div class="space-y-6"><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Why teams adopt it</h3><p class="text-sm text-muted-foreground">The outcomes this concept is designed to unlock.</p></div><div class="p-6 pt-0"><ul class="space-y-2 text-sm text-muted-foreground"><li>• <!-- -->Maintain momentum on multi-step tasks without repeated manual prompts.</li><li>• <!-- -->Keep a durable progress log for handoffs and long-running work.</li><li>• <!-- -->Constrain execution to one useful step per iteration to reduce drift.</li></ul></div></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">What ships with it</h3><p class="text-sm text-muted-foreground">Core capabilities included in the OpenCode variant.</p></div><div class="p-6 pt-0"><ul class="space-y-2 text-sm text-muted-foreground"><li>• <!-- -->An OpenCode agent, command, and plugin that execute work in discrete iterations.</li><li>• <!-- -->Updates the prompt file with status, verification, and next steps after each turn.</li></ul></div></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Common use cases</h3></div><div class="p-6 pt-0"><ul class="space-y-2 text-sm text-muted-foreground"><li>• <!-- -->Break down large migrations into repeatable, verifiable steps.</li><li>• <!-- -->Run ongoing refactors with clear acceptance criteria and verification checkpoints.</li><li>• <!-- -->Coordinate long-lived tasks that need consistent progress tracking.</li></ul></div></div></div><div class="space-y-6"><div dir="ltr" data-orientation="horizontal"><div role="tablist" aria-orientation="horizontal" class="inline-flex h-10 items-center rounded-md bg-muted p-1 text-muted-foreground w-full justify-start" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-_R_2inpfivb_-content-opencode" data-state="active" id="radix-_R_2inpfivb_-trigger-opencode" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">OpenCode</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-_R_2inpfivb_-content-claude" data-state="inactive" data-disabled="" disabled="" id="radix-_R_2inpfivb_-trigger-claude" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Claude Code (soon)</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-_R_2inpfivb_-content-codex" data-state="inactive" data-disabled="" disabled="" id="radix-_R_2inpfivb_-trigger-codex" class="inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">Codex CLI (soon)</button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_2inpfivb_-trigger-opencode" id="radix-_R_2inpfivb_-content-opencode" tabindex="0" class="mt-4 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4" style="animation-duration:0s"><div class="rounded-xl border bg-background/80 p-4"><div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"><div class="space-y-1"><p class="text-sm font-semibold">CLI install</p><p class="text-xs text-muted-foreground">Uses the same host and base path as this registry.</p></div><button class="inline-flex items-center justify-center gap-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background bg-secondary text-secondary-foreground hover:bg-secondary/80 h-9 rounded-md px-3">Copy</button></div><code class="mt-3 block rounded-lg bg-muted/60 px-3 py-2 text-xs text-slate-800">npx shadcn@latest add https://your-site-url/ralph-loop-opencode.v1.json</code></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Manual install</h3><p class="text-sm text-muted-foreground">Copy these files into your repo.</p></div><div class="p-6 pt-0"><ul class="space-y-2 text-xs text-muted-foreground"><li><span class="font-medium text-foreground">~/.opencode/agent/ralph.md</span><span class="text-muted-foreground"> ← <!-- -->registry/ralph-loop/opencode/files/agent/ralph.md</span></li><li><span class="font-medium text-foreground">~/.opencode/command/ralph.md</span><span class="text-muted-foreground"> ← <!-- -->registry/ralph-loop/opencode/files/command/ralph.md</span></li><li><span class="font-medium text-foreground">~/.opencode/plugin/ralph-loop.ts</span><span class="text-muted-foreground"> ← <!-- -->registry/ralph-loop/opencode/files/plugin/ralph-loop.ts</span></li><li><span class="font-medium text-foreground">~/.opencode/ralph/ralph-utils.ts</span><span class="text-muted-foreground"> ← <!-- -->registry/ralph-loop/opencode/files/ralph/ralph-utils.ts</span></li><li><span class="font-medium text-foreground">~/.opencode/types/shims.d.ts</span><span class="text-muted-foreground"> ← <!-- -->registry/ralph-loop/opencode/files/types/shims.d.ts</span></li></ul></div></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Code files</h3><p class="text-sm text-muted-foreground">Preview each file with syntax highlighting.</p></div><div class="p-6 pt-0 space-y-4"><div dir="ltr" data-orientation="horizontal"><div role="tablist" aria-orientation="horizontal" class="items-center justify-center rounded-md text-muted-foreground flex h-auto flex-wrap gap-2 bg-transparent p-0" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-agent-ralph-md" data-state="active" id="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-agent-ralph-md" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:shadow-sm rounded-full border border-border px-4 py-1 text-xs font-semibold data-[state=active]:bg-primary data-[state=active]:text-primary-foreground" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">ralph.md</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-command-ralph-md" data-state="inactive" id="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-command-ralph-md" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:shadow-sm rounded-full border border-border px-4 py-1 text-xs font-semibold data-[state=active]:bg-primary data-[state=active]:text-primary-foreground" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">ralph.md</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-plugin-ralph-loop-ts" data-state="inactive" id="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-plugin-ralph-loop-ts" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:shadow-sm rounded-full border border-border px-4 py-1 text-xs font-semibold data-[state=active]:bg-primary data-[state=active]:text-primary-foreground" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">ralph-loop.ts</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-ralph-ralph-utils-ts" data-state="inactive" id="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-ralph-ralph-utils-ts" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:shadow-sm rounded-full border border-border px-4 py-1 text-xs font-semibold data-[state=active]:bg-primary data-[state=active]:text-primary-foreground" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">ralph-utils.ts</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-types-shims-d-ts" data-state="inactive" id="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-types-shims-d-ts" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=active]:shadow-sm rounded-full border border-border px-4 py-1 text-xs font-semibold data-[state=active]:bg-primary data-[state=active]:text-primary-foreground" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">shims.d.ts</button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-agent-ralph-md" id="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-agent-ralph-md" tabindex="0" class="ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 mt-4" style="animation-duration:0s"><div class="flex items-center justify-between text-xs text-muted-foreground"><span>~/.opencode/agent/ralph.md</span><button class="inline-flex items-center justify-center gap-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background bg-secondary text-secondary-foreground hover:bg-secondary/80 h-9 rounded-md px-3">Copy file</button></div><div class="mt-3 overflow-x-auto rounded-lg border bg-white p-3"><div class="text-sm"><pre class="shiki vitesse-light" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#005CC5;font-weight:bold">---</span></span>
<span class="line"><span style="color:#393A34">description: Ralph loop agent (autonomous iterations)</span></span>
<span class="line"><span style="color:#393A34">mode: primary</span></span>
<span class="line"><span style="color:#393A34">permission:</span></span>
<span class="line"><span style="color:#393A34">  bash:</span></span>
<span class="line"><span style="color:#393A34">    'git push': deny</span></span>
<span class="line"><span style="color:#393A34">    '*': allow</span></span>
<span class="line"><span style="color:#393A34">  external_directory: deny</span></span>
<span class="line"><span style="color:#393A34">  doom_loop: allow</span></span>
<span class="line"><span style="color:#1C6B48;font-weight:bold">---</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34">You are the Ralph Loop Code agent.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34">Control messages:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> If you receive a message containing </span><span style="color:#999999">`</span><span style="color:#393A34">RALPH_CONTROL:</span><span style="color:#999999">`</span><span style="color:#393A34">, treat it as plugin control. Reply with a brief acknowledgement only (no tool calls) and wait for the next iteration prompt. Outside of that you are expected to begin coding.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34">Ralph loop mechanics:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Each iteration will include a </span><span style="color:#999999">`</span><span style="color:#393A34">&#x3C;task_prompt_file></span><span style="color:#999999">`</span><span style="color:#393A34"> block containing the user-authored prompt file. Treat that as the source of truth for WHAT to do.</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> In each iteration, pick the single most useful next step you can complete now FROM the mentioned prompt file:</span></span>
<span class="line"><span style="color:#A65E2B">  -</span><span style="color:#393A34"> CODE THAT TASK in the code base. Keep going until you hit a blocker or the task is done. You may not ask the user questions, it's assumed all necessary context is in the prompt file.</span></span>
<span class="line"><span style="color:#A65E2B">  -</span><span style="color:#393A34"> Once done, update the prompt file with your progress so the next iteration can continue.</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> The prompt file is durable memory. Keep it concise and current with progress, decisions, and next steps (chat history may be compacted).</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Once your turn is over, you will be summoned again automatically with the same prompt file. Continue working where you left off. Do not wait for the user.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34">Rules:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Stay inside this repo/worktree. Do not read/write/edit files outside the repo.</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Never delete or rename the prompt file.</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Never run </span><span style="color:#999999">`</span><span style="color:#393A34">git push</span><span style="color:#999999">`</span><span style="color:#393A34">.</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Avoid catastrophic commands (e.g. repo wipes like </span><span style="color:#999999">`</span><span style="color:#393A34">rm -rf .</span><span style="color:#999999">`</span><span style="color:#393A34"> / </span><span style="color:#999999">`</span><span style="color:#393A34">rm -rf *</span><span style="color:#999999">`</span><span style="color:#393A34">, disk wipes like </span><span style="color:#999999">`</span><span style="color:#393A34">rm -rf /</span><span style="color:#999999">`</span><span style="color:#393A34"> or </span><span style="color:#999999">`</span><span style="color:#393A34">rm -rf ~</span><span style="color:#999999">`</span><span style="color:#393A34">).</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34">Working style:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Use </span><span style="color:#999999">`</span><span style="color:#393A34">## Acceptance Criteria</span><span style="color:#999999">`</span><span style="color:#393A34"> to define "done"; use </span><span style="color:#999999">`</span><span style="color:#393A34">## Verification</span><span style="color:#999999">`</span><span style="color:#393A34"> to prove it.</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Keep changes small and verify frequently.</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Update </span><span style="color:#999999">`</span><span style="color:#393A34">## Progress</span><span style="color:#999999">`</span><span style="color:#393A34"> every iteration with: what changed, current status, next step, and any verification results/errors.</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> If a command is blocked/denied, do not retry it. Choose a safer alternative and note it in </span><span style="color:#999999">`</span><span style="color:#393A34">## Progress</span><span style="color:#999999">`</span><span style="color:#393A34">.</span></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> If stuck, log the blocker and what you tried in </span><span style="color:#999999">`</span><span style="color:#393A34">## Progress</span><span style="color:#999999">`</span><span style="color:#393A34">, then attempt the next best approach.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34">Completion:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B">-</span><span style="color:#393A34"> Only when the task is fully complete AND verification passes, end your final message with the exact token </span><span style="color:#999999">`</span><span style="color:#393A34">RALPH_DONE</span><span style="color:#999999">`</span><span style="color:#393A34"> on its own line.</span></span>
<span class="line"></span></code></pre></div></div></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-command-ralph-md" hidden="" id="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-command-ralph-md" tabindex="0" class="ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 mt-4"></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-plugin-ralph-loop-ts" hidden="" id="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-plugin-ralph-loop-ts" tabindex="0" class="ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 mt-4"></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-ralph-ralph-utils-ts" hidden="" id="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-ralph-ralph-utils-ts" tabindex="0" class="ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 mt-4"></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-_R_jminpfivb_-trigger-registry-ralph-loop-opencode-files-types-shims-d-ts" hidden="" id="radix-_R_jminpfivb_-content-registry-ralph-loop-opencode-files-types-shims-d-ts" tabindex="0" class="ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 mt-4"></div></div></div></div><div class="rounded-xl border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><h3 class="text-lg font-semibold leading-none">Notes</h3><p class="text-sm text-muted-foreground">Restart OpenCode after installing to register the /ralph command. Targets prefixed with ~ are repo-scoped (project-root) paths.</p></div></div></div></div></div></section></div></main><!--$--><!--/$--><script src="/_next/static/chunks/69ffde10966ca596.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[63880,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"default\"]\n3:I[93744,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"default\"]\n5:I[71831,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"OutletBoundary\"]\n6:\"$Sreact.suspense\"\n8:I[71831,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"ViewportBoundary\"]\na:I[71831,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"MetadataBoundary\"]\nc:I[78227,[\"/_next/static/chunks/e57f8bd634e3e83c.js\",\"/_next/static/chunks/152d0cd9196fc828.js\"],\"default\"]\n:HL[\"/_next/static/chunks/a184f9a797eb4044.css\",\"style\"]\n:HL[\"/_next/static/media/0c89a48fa5027cee-s.p.4564287c.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"WKKgVDXOaSgstbYIPrNkF\",\"c\":[\"\",\"registry\",\"ralph-loop\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"registry\",{\"children\":[[\"concept\",\"ralph-loop\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/a184f9a797eb4044.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"h-full\",\"children\":[\"$\",\"body\",null,{\"className\":\"space_grotesk_a4177b3f-module__DCxVEW__variable min-h-full font-sans\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/1d56de6fa4bb4a40.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L5\",null,{\"children\":[\"$\",\"$6\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@7\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L8\",null,{\"children\":\"$@9\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$La\",null,{\"children\":[\"$\",\"$6\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@b\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$c\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"9:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"title\",\"0\",{\"children\":\"Agent Utils Registry\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Index-ready registry of OpenCode agent utilities with install-ready files.\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"main\",null,{\"className\":\"min-h-screen bg-background\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto flex w-full max-w-6xl flex-col gap-10 px-6 py-16\",\"children\":[[\"$\",\"header\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm font-semibold uppercase tracking-wide text-muted-foreground\",\"children\":\"Concept\"}],[\"$\",\"div\",null,{\"className\":\"space-y-3\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-semibold tracking-tight\",\"children\":\"Ralph Loop\"}],[\"$\",\"p\",null,{\"className\":\"text-muted-foreground\",\"children\":\"Autonomous iteration loop for OpenCode that drives work from a prompt file.\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2\",\"children\":[[\"$\",\"div\",\"agent\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"agent\"}],[\"$\",\"div\",\"command\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"command\"}],[\"$\",\"div\",\"plugin\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"plugin\"}],[\"$\",\"div\",\"workflow\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"workflow\"}],[\"$\",\"div\",\"iteration\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-colors text-foreground\",\"children\":\"iteration\"}]]}]]}],[\"$\",\"section\",null,{\"className\":\"grid gap-8 lg:grid-cols-[1.2fr_0.8fr]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-xl border bg-card text-card-foreground shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[[\"$\",\"h3\",null,{\"ref\":\"$undefined\",\"className\":\"text-lg font-semibold leading-none\",\"children\":\"Why teams adopt it\"}],[\"$\",\"p\",null,{\"ref\":\"$undefined\",\"className\":\"text-sm text-muted-foreground\",\"children\":\"The outcomes this concept is designed to unlock.\"}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-muted-foreground\",\"children\":[[\"$\",\"li\",\"Maintain momentum on multi-step tasks without repeated manual prompts.\",{\"children\":[\"• \",\"Maintain momentum on multi-step tasks without repeated manual prompts.\"]}],[\"$\",\"li\",\"Keep a durable progress log for handoffs and long-running work.\",{\"children\":[\"• \",\"Keep a durable progress log for handoffs and long-running work.\"]}],[\"$\",\"li\",\"Constrain execution to one useful step per iteration to reduce drift.\",{\"children\":[\"• \",\"Constrain execution to one useful step per iteration to reduce drift.\"]}]]}]}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-xl border bg-card text-card-foreground shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[[\"$\",\"h3\",null,{\"ref\":\"$undefined\",\"className\":\"text-lg font-semibold leading-none\",\"children\":\"What ships with it\"}],[\"$\",\"p\",null,{\"ref\":\"$undefined\",\"className\":\"text-sm text-muted-foreground\",\"children\":\"Core capabilities included in the OpenCode variant.\"}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-muted-foreground\",\"children\":[[\"$\",\"li\",\"An OpenCode agent, command, and plugin that execute work in discrete iterations.\",{\"children\":[\"• \",\"An OpenCode agent, command, and plugin that execute work in discrete iterations.\"]}],[\"$\",\"li\",\"Updates the prompt file with status, verification, and next steps after each turn.\",{\"children\":[\"• \",\"Updates the prompt file with status, verification, and next steps after each turn.\"]}]]}]}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-xl border bg-card text-card-foreground shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[\"$\",\"h3\",null,{\"ref\":\"$undefined\",\"className\":\"text-lg font-semibold leading-none\",\"children\":\"Common use cases\"}]}],\"$Ld\"]}]]}],\"$Le\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"f:I[27655,[\"/_next/static/chunks/1d56de6fa4bb4a40.js\"],\"PlatformTabs\"]\nd:[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-muted-foreground\",\"children\":[[\"$\",\"li\",\"Break down large migrations into repeatable, verifiable steps.\",{\"children\":[\"• \",\"Break down large migrations into repeatable, verifiable steps.\"]}],[\"$\",\"li\",\"Run ongoing refactors with clear acceptance criteria and verification checkpoints.\",{\"children\":[\"• \",\"Run ongoing refactors with clear acceptance criteria and verification checkpoints.\"]}],[\"$\",\"li\",\"Coordinate long-lived tasks that need consistent progress tracking.\",{\"children\":[\"• \",\"Coordinate long-lived tasks that need consistent progress tracking.\"]}]]}]}]\n10:T8b9,"])</script><script>self.__next_f.push([1,"---\ndescription: Ralph loop agent (autonomous iterations)\nmode: primary\npermission:\n  bash:\n    'git push': deny\n    '*': allow\n  external_directory: deny\n  doom_loop: allow\n---\n\nYou are the Ralph Loop Code agent.\n\nControl messages:\n\n- If you receive a message containing `RALPH_CONTROL:`, treat it as plugin control. Reply with a brief acknowledgement only (no tool calls) and wait for the next iteration prompt. Outside of that you are expected to begin coding.\n\nRalph loop mechanics:\n\n- Each iteration will include a `\u003ctask_prompt_file\u003e` block containing the user-authored prompt file. Treat that as the source of truth for WHAT to do.\n- In each iteration, pick the single most useful next step you can complete now FROM the mentioned prompt file:\n  - CODE THAT TASK in the code base. Keep going until you hit a blocker or the task is done. You may not ask the user questions, it's assumed all necessary context is in the prompt file.\n  - Once done, update the prompt file with your progress so the next iteration can continue.\n- The prompt file is durable memory. Keep it concise and current with progress, decisions, and next steps (chat history may be compacted).\n- Once your turn is over, you will be summoned again automatically with the same prompt file. Continue working where you left off. Do not wait for the user.\n\nRules:\n\n- Stay inside this repo/worktree. Do not read/write/edit files outside the repo.\n- Never delete or rename the prompt file.\n- Never run `git push`.\n- Avoid catastrophic commands (e.g. repo wipes like `rm -rf .` / `rm -rf *`, disk wipes like `rm -rf /` or `rm -rf ~`).\n\nWorking style:\n\n- Use `## Acceptance Criteria` to define \"done\"; use `## Verification` to prove it.\n- Keep changes small and verify frequently.\n- Update `## Progress` every iteration with: what changed, current status, next step, and any verification results/errors.\n- If a command is blocked/denied, do not retry it. Choose a safer alternative and note it in `## Progress`.\n- If stuck, log the blocker and what you tried in `## Progress`, then attempt the next best approach.\n\nCompletion:\n\n- Only when the task is fully complete AND verification passes, end your final message with the exact token `RALPH_DONE` on its own line.\n"])</script><script>self.__next_f.push([1,"11:T1bd4,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003edescription: Ralph loop agent (autonomous iterations)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003emode: primary\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003epermission:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e  bash:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e    'git push': deny\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e    '*': allow\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e  external_directory: deny\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003e  doom_loop: allow\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1C6B48;font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eYou are the Ralph Loop Code agent.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eControl messages:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e If you receive a message containing \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003eRALPH_CONTROL:\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e, treat it as plugin control. Reply with a brief acknowledgement only (no tool calls) and wait for the next iteration prompt. Outside of that you are expected to begin coding.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eRalph loop mechanics:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Each iteration will include a \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e\u0026#x3C;task_prompt_file\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e block containing the user-authored prompt file. Treat that as the source of truth for WHAT to do.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e In each iteration, pick the single most useful next step you can complete now FROM the mentioned prompt file:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e  -\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e CODE THAT TASK in the code base. Keep going until you hit a blocker or the task is done. You may not ask the user questions, it's assumed all necessary context is in the prompt file.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e  -\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Once done, update the prompt file with your progress so the next iteration can continue.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e The prompt file is durable memory. Keep it concise and current with progress, decisions, and next steps (chat history may be compacted).\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Once your turn is over, you will be summoned again automatically with the same prompt file. Continue working where you left off. Do not wait for the user.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eRules:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Stay inside this repo/worktree. Do not read/write/edit files outside the repo.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Never delete or rename the prompt file.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Never run \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003egit push\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Avoid catastrophic commands (e.g. repo wipes like \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003erm -rf .\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e / \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003erm -rf *\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e, disk wipes like \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003erm -rf /\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e or \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003erm -rf ~\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e).\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eWorking style:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Use \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Acceptance Criteria\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e to define \"done\"; use \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Verification\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e to prove it.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Keep changes small and verify frequently.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Update \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Progress\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e every iteration with: what changed, current status, next step, and any verification results/errors.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e If a command is blocked/denied, do not retry it. Choose a safer alternative and note it in \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Progress\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e If stuck, log the blocker and what you tried in \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e## Progress\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e, then attempt the next best approach.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eCompletion:\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Only when the task is fully complete AND verification passes, end your final message with the exact token \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003eRALPH_DONE\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e on its own line.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"12:T76f,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5;font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003edescription: Start/stop a Ralph loop on a prompt file\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eagent: ralph\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1C6B48;font-weight:bold\"\u003e---\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eRALPH_CONTROL: {\"arg1\":\"$1\",\"arg2\":\"$2\",\"arg3\":\"$3\"}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eThis command sends a control message that the Ralph loop plugin listens for.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e If \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e$1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e is \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003estop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e, stop the Ralph loop.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A65E2B\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e Otherwise, treat \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e$1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e as the prompt file reference and \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e$2\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#393A34\"\u003e as an optional max-iterations number.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#393A34\"\u003eRespond with a brief acknowledgement only. Do not run tools in response to this control message.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"13:T2e14,"])</script><script>self.__next_f.push([1,"/// \u003creference path=\"../types/shims.d.ts\" /\u003e\n\nimport fs from \"node:fs/promises\";\nimport path from \"node:path\";\nimport type { Plugin } from \"@opencode-ai/plugin\";\n\nimport {\n  CONTROL_PREFIX,\n  DEFAULT_MAX_ITERATIONS,\n  DONE_TOKEN,\n  hasDone,\n  isPathInside,\n  lintPrompt,\n  loadJson,\n  normalizeRelToken,\n  parseControl,\n  rmTargetsFromArgs,\n  saveJson,\n  splitShellSegments,\n  stripArg,\n  stripEnvPrefixes,\n  textFromParts,\n  tokenize,\n} from \"../ralph/ralph-utils\";\n\ntype RalphSession = {\n  enabled: boolean;\n  promptPath: string; // repo-relative\n  maxIterations: number;\n  iteration: number;\n};\n\ntype RalphState = {\n  version: 1;\n  sessions: Record\u003cstring, RalphSession\u003e;\n};\n\ntype ChatMessageInput = {\n  sessionID: string;\n};\n\ntype ChatMessageOutput = {\n  parts: unknown[];\n};\n\ntype SessionMessage = {\n  info?: {\n    role?: string;\n  };\n  parts?: unknown[];\n};\n\ntype SessionMessagesResponse = {\n  data?: SessionMessage[];\n};\n\ntype IdleEvent = {\n  type: string;\n  properties: {\n    sessionID: string;\n  };\n};\n\ntype IdleEventInput = {\n  event: IdleEvent;\n};\n\ntype ToolExecuteInput = {\n  sessionID: string;\n  tool: string;\n};\n\ntype ToolExecuteOutput = {\n  args?: {\n    command?: string;\n    filePath?: string;\n  };\n};\n\nexport const RalphLoopPlugin: Plugin = async ({ client, worktree }) =\u003e {\n  const stateFile = path.join(worktree, \".opencode\", \"ralph\", \"state.json\");\n  const state = await loadJson\u003cRalphState\u003e(stateFile, { version: 1, sessions: {} });\n\n  const toast = async (\n    message: string,\n    variant: \"info\" | \"success\" | \"warning\" | \"error\" = \"info\",\n  ): Promise\u003cvoid\u003e =\u003e {\n    await client.tui.showToast({ body: { title: \"Ralph\", message, variant } });\n  };\n\n  const persist = () =\u003e saveJson(stateFile, state);\n\n  const stop = async (sessionID: string, reason: string) =\u003e {\n    const s = state.sessions?.[sessionID];\n    if (!s?.enabled) return;\n    s.enabled = false;\n    await persist();\n    await toast(`Stopped: ${reason}`, \"warning\");\n  };\n\n  const start = async (sessionID: string, promptArg: string, maxArg?: string) =\u003e {\n    const raw = stripArg(promptArg);\n    const abs = path.isAbsolute(raw) ? raw : path.resolve(worktree, raw);\n\n    let real = abs;\n    try {\n      real = await fs.realpath(abs);\n    } catch {\n      // ignore\n    }\n\n    if (!isPathInside(worktree, real)) {\n      await toast(`Refusing to start: prompt file is outside repo (${promptArg})`, \"error\");\n      return;\n    }\n\n    try {\n      if (!(await fs.stat(real)).isFile()) throw new Error(\"not file\");\n    } catch {\n      await toast(`Refusing to start: prompt file not found (${promptArg})`, \"error\");\n      return;\n    }\n\n    const md = await fs.readFile(real, \"utf8\");\n    const lintErrors = lintPrompt(md);\n    if (lintErrors.length) {\n      await toast(`Prompt file lint failed:\\n- ${lintErrors.join(\"\\n- \")}`, \"error\");\n      return;\n    }\n\n    const maxIterations =\n      maxArg \u0026\u0026 /^[0-9]+$/.test(String(maxArg)) ? Number(maxArg) : DEFAULT_MAX_ITERATIONS;\n    state.sessions[sessionID] = {\n      enabled: true,\n      promptPath: path.relative(worktree, real),\n      maxIterations,\n      iteration: 0,\n    };\n\n    await persist();\n    await toast(\n      `Enabled (max ${maxIterations}) using ${state.sessions[sessionID].promptPath}`,\n      \"success\",\n    );\n  };\n\n  const guardBash = (command: string, session: RalphSession) =\u003e {\n    const cmd = String(command ?? \"\").trim();\n    if (!cmd) return;\n\n    const worktreeAbs = path.resolve(worktree);\n    const promptAbs = path.resolve(worktreeAbs, session.promptPath);\n    const promptRel = normalizeRelToken(session.promptPath);\n\n    let simulatedCwd = worktreeAbs;\n\n    const assertInside = (absPath: string, operation: string) =\u003e {\n      if (!isPathInside(worktreeAbs, absPath)) {\n        throw new Error(`Ralph safety: refusing to ${operation} outside repo`);\n      }\n    };\n\n    const resolveFromCwd = (maybePath: string) =\u003e\n      path.isAbsolute(maybePath) ? path.resolve(maybePath) : path.resolve(simulatedCwd, maybePath);\n\n    for (const seg of splitShellSegments(cmd)) {\n      const tokens = stripEnvPrefixes(tokenize(seg));\n      const a = tokens[0] ?? \"\";\n      const b = tokens[1] ?? \"\";\n      if (!a) continue;\n\n      // Track `cd` so relative destructive ops resolve correctly.\n      if (a === \"cd\") {\n        const dest = tokens[1];\n        if (!dest || dest === \"-\") throw new Error(\"Ralph safety: refusing ambiguous cd\");\n\n        if (/[`$]/.test(String(dest))) {\n          throw new Error(\"Ralph safety: refusing non-literal cd target\");\n        }\n\n        const normalized = normalizeRelToken(String(dest));\n        if (\n          normalized.startsWith(\"~\") ||\n          normalized.startsWith(\"$HOME\") ||\n          normalized.startsWith(\"${HOME}\")\n        ) {\n          throw new Error(\"Ralph safety: refusing cd to home paths\");\n        }\n\n        const next = resolveFromCwd(String(dest));\n        assertInside(next, \"cd\");\n        simulatedCwd = next;\n        continue;\n      }\n\n      if (a === \"sudo\") throw new Error(\"Ralph safety: sudo is disabled\");\n      if (a === \"git\" \u0026\u0026 b === \"push\") throw new Error(\"Ralph safety: git push is disabled\");\n      if (a === \"git\" \u0026\u0026 b === \"clean\" \u0026\u0026 tokens.some((t) =\u003e String(t).includes(\"-f\"))) {\n        throw new Error(\"Ralph safety: git clean with -f is disabled\");\n      }\n\n      const isRm = a === \"rm\" || a === \"rmdir\";\n      const isGitRm = a === \"git\" \u0026\u0026 b === \"rm\";\n      const isMv = a === \"mv\";\n      const isGitMv = a === \"git\" \u0026\u0026 b === \"mv\";\n\n      // Prevent prompt file moves/renames (and prevent moving files outside repo).\n      if (isMv || isGitMv) {\n        const offset = isGitMv ? 2 : 1;\n        const paths = rmTargetsFromArgs(tokens.slice(offset));\n        for (const rawTok of paths) {\n          const raw = String(rawTok);\n          if (/[`$]/.test(raw)) throw new Error(\"Ralph safety: refusing non-literal mv path\");\n          const abs = resolveFromCwd(raw);\n          if (abs === promptAbs)\n            throw new Error(\"Ralph safety: cannot move/rename the prompt file\");\n          assertInside(abs, \"move files\");\n        }\n        continue;\n      }\n\n      if (!isRm \u0026\u0026 !isGitRm) continue;\n\n      const offset = isGitRm ? 2 : 1;\n      const targets = rmTargetsFromArgs(tokens.slice(offset));\n\n      for (const rawTok of targets) {\n        const raw = String(rawTok);\n        if (/[`$]/.test(raw)) throw new Error(\"Ralph safety: refusing non-literal rm target\");\n        const normalizedForWipe = normalizeRelToken(raw).replace(/\\/+$/, \"\");\n\n        // Block the classic \"oops\" wipes.\n        if (normalizedForWipe === \"\" || normalizedForWipe === \".\" || normalizedForWipe === \"*\") {\n          throw new Error(\"Ralph safety: refusing repo wipe\");\n        }\n\n        if (raw === \"/\" || raw === \"/*\") throw new Error(\"Ralph safety: refusing disk wipe\");\n\n        if (\n          normalizedForWipe.startsWith(\"~\") ||\n          normalizedForWipe.startsWith(\"$HOME\") ||\n          normalizedForWipe.startsWith(\"${HOME}\")\n        ) {\n          throw new Error(\"Ralph safety: refusing home paths\");\n        }\n\n        // Protect the prompt file.\n        if (normalizedForWipe === promptRel) {\n          throw new Error(\"Ralph safety: cannot delete the prompt file\");\n        }\n\n        const abs = resolveFromCwd(raw);\n        if (abs === promptAbs) throw new Error(\"Ralph safety: cannot delete the prompt file\");\n        if (abs === worktreeAbs) throw new Error(\"Ralph safety: refusing to delete repo root\");\n\n        assertInside(abs, \"delete files\");\n      }\n    }\n  };\n\n  const runIteration = async (sessionID: string, session: RalphSession) =\u003e {\n    if (session.iteration \u003e= session.maxIterations) {\n      await stop(sessionID, `max iterations reached (${session.maxIterations})`);\n      return;\n    }\n\n    const promptReal = path.join(worktree, session.promptPath);\n    const promptContents = await fs.readFile(promptReal, \"utf8\");\n\n    session.iteration += 1;\n    await persist();\n    await toast(`Iteration ${session.iteration}/${session.maxIterations}`, \"info\");\n\n    const msg = [\n      `\u003cralph_iteration number=\"${session.iteration}\" max=\"${session.maxIterations}\"\u003e`,\n      \"\u003cralph_rules\u003e\",\n      \"- Task spec: follow the content in \u003ctask_prompt_file\u003e.\",\n      \"- Read `## Progress` as you may have already started coding and done some work.\",\n      \"- Focus: pick the single most useful next step you can complete now.\",\n      \"- Make concrete progress in implementing the features/functionality described in that doc. Do this by coding in this repo/working directory.\",\n      \"- Once you are done, update the prompt file, especially `## Progress`, to be accurate with your progress so far.\",\n      \"- In `## Progress`, record: what you changed, current status, next step, and any verification results/errors.\",\n      \"- Keep the prompt file concise and current; it is durable memory (chat may be compacted).\",\n      \"- Use ## Acceptance Criteria to define done; use ## Verification to prove it.\",\n      \"- If a command is blocked/denied, do not retry it; choose a safer alternative and note it in ## Progress.\",\n      \"- If stuck, log the blocker and what you tried in ## Progress, then attempt the next best approach.\",\n      `- Completion: only when fully complete and verified, end your final message with a line containing only: ${DONE_TOKEN}`,\n      \"\u003c/ralph_rules\u003e\",\n      `\u003ctask_prompt_file path=\"${session.promptPath}\"\u003e`,\n      promptContents,\n      \"\u003c/task_prompt_file\u003e\",\n      \"\u003c/ralph_iteration\u003e\",\n    ].join(\"\\n\");\n\n    await client.session.prompt({\n      path: { id: sessionID },\n      body: { agent: \"ralph\", parts: [{ type: \"text\", text: msg }] },\n    });\n  };\n\n  return {\n    \"chat.message\": async (input: ChatMessageInput, output: ChatMessageOutput) =\u003e {\n      const text = textFromParts(output.parts);\n      if (!text.includes(CONTROL_PREFIX)) return;\n\n      const control = parseControl(text);\n      if (!control) return toast(\"Could not parse RALPH_CONTROL JSON\", \"error\");\n\n      const arg1 = String(control.arg1 ?? \"\").trim();\n      const arg2 = String(control.arg2 ?? \"\").trim();\n\n      if (!arg1) return toast(\"Usage: /ralph @prompt.md [max]  OR  /ralph stop\", \"error\");\n      if (arg1 === \"stop\") return stop(input.sessionID, \"manual stop\");\n\n      return start(input.sessionID, arg1, arg2);\n    },\n\n    event: async ({ event }: IdleEventInput) =\u003e {\n      if (event.type !== \"session.idle\") return;\n      const sessionID = event.properties.sessionID;\n      const session = state.sessions?.[sessionID];\n      if (!session?.enabled) return;\n\n      try {\n        const messagesResult = (await client.session.messages({\n          path: { id: sessionID },\n          query: { limit: 25 },\n        })) as SessionMessagesResponse;\n        const messages = messagesResult.data ?? [];\n        const lastAssistant = [...messages].reverse().find((m) =\u003e m.info?.role === \"assistant\");\n        if (lastAssistant \u0026\u0026 hasDone(textFromParts(lastAssistant.parts ?? [])))\n          return stop(sessionID, DONE_TOKEN);\n      } catch {\n        // ignore\n      }\n\n      return runIteration(sessionID, session);\n    },\n\n    \"tool.execute.before\": async (input: ToolExecuteInput, output: ToolExecuteOutput) =\u003e {\n      const session = state.sessions?.[input.sessionID];\n      if (!session?.enabled) return;\n\n      if (input.tool === \"bash\") {\n        guardBash(output.args?.command, session);\n        return;\n      }\n\n      if (input.tool === \"read\" || input.tool === \"write\" || input.tool === \"edit\") {\n        const filePath = output.args?.filePath;\n        if (typeof filePath !== \"string\" || !filePath) return;\n        const abs = path.isAbsolute(filePath) ? filePath : path.resolve(worktree, filePath);\n        if (!isPathInside(worktree, abs))\n          throw new Error(\"Ralph safety: file access outside repo is disabled\");\n      }\n    },\n  };\n};\n"])</script><script>self.__next_f.push([1,"14:T175d9,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e/// \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereference\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e../types/shims.d.ts\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:fs/promises\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:path\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e Plugin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e@opencode-ai/plugin\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  CONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  DEFAULT_MAX_ITERATIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  DONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  hasDone\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  isPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  lintPrompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  loadJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  normalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  parseControl\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  rmTargetsFromArgs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  saveJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  splitShellSegments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  stripArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  stripEnvPrefixes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  textFromParts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  tokenize\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e../ralph/ralph-utils\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e RalphSession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  enabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eboolean\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  promptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#A0ADA0\"\u003e // repo-relative\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  maxIterations\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003enumber\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  iteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003enumber\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e RalphState\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  version\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  sessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRecord\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRalphSession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e ChatMessageInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  sessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e ChatMessageOutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  parts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e SessionMessage\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  info\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    role\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  parts\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e SessionMessagesResponse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  data\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eSessionMessage\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e IdleEvent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  type\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  properties\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    sessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e IdleEventInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  event\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eIdleEvent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e ToolExecuteInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  sessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  tool\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e ToolExecuteOutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  args\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    command\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    filePath\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eRalphLoopPlugin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003ePlugin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e worktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e })\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estateFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e.opencode\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eralph\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estate.json\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e loadJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRalphState\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estateFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eversion\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: {} });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etoast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    message\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    variant\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003einfo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esuccess\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ewarning\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003einfo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  ):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003evoid\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etui\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eshowToast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({ \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003ebody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003etitle\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessage\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003evariant\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e } });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epersist\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e ()\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e saveJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003estateFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e reason\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    s\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e false\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e persist\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eStopped: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ereason\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ewarning\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estart\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e promptArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e maxArg\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stripArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisAbsolute\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e raw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ereal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e abs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      real\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003erealpath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e catch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e      // ignore\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e real\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRefusing to start: prompt file is outside repo (\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epromptArg\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estat\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ereal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e())\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enot file\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e catch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRefusing to start: prompt file not found (\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epromptArg\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereadFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ereal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elintErrors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e lintPrompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elintErrors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ePrompt file lint failed:\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003elintErrors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      maxArg\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e /\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e^\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e0-9\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eString\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaxArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eNumber\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaxArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eDEFAULT_MAX_ITERATIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e = {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      enabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003etrue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      promptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003erelative\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ereal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e),\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      maxIterations\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      iteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e persist\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eEnabled (max \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e) using \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e].\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esuccess\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    );\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eguardBash\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRalphSession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptRel\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e normalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esimulatedCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e worktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eassertInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabsPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e operation\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e absPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing to \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eoperation\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e outside repo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolveFromCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaybePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisAbsolute\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaybePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaybePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esimulatedCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e maybePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eseg\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esplitShellSegments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stripEnvPrefixes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etokenize\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eseg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e      // Track `cd` so relative destructive ops resolve correctly.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ecd\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing ambiguous cd\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e`$\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eString\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing non-literal cd target\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalized\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e normalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eString\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalized\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e~\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalized\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e$HOME\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalized\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e${HOME}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        )\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing cd to home paths\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e resolveFromCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eString\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e        assertInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ecd\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e        simulatedCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e next\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esudo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: sudo is disabled\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003egit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: git push is disabled\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003egit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eclean\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esome\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003et\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003et\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eincludes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e-f\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: git clean with -f is disabled\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisRm\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003erm\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ermdir\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisGitRm\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003egit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003erm\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisMv\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emv\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisGitMv\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e a\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003egit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eb\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emv\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e      // Prevent prompt file moves/renames (and prevent moving files outside repo).\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisMv\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisGitMv\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoffset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e isGitMv\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e2\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epaths\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e rmTargetsFromArgs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoffset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erawTok\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epaths\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e          const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erawTok\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e`$\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing non-literal mv path\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e          const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e resolveFromCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e            throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: cannot move/rename the prompt file\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e          assertInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emove files\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisRm\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; !\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eisGitRm\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoffset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e isGitRm\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e2\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etargets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e rmTargetsFromArgs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoffset\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erawTok\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etargets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erawTok\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e`$\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing non-literal rm target\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e normalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereplace\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#BDA437\"\u003e\\/\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e$\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e        // Block the classic \"oops\" wipes.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing repo wipe\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e/*\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing disk wipe\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e~\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e$HOME\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e          normalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e${HOME}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        )\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing home paths\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e        // Protect the prompt file.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003enormalizedForWipe\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptRel\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: cannot delete the prompt file\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e resolveFromCwd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eraw\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: cannot delete the prompt file\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktreeAbs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eError\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: refusing to delete repo root\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e        assertInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003edelete files\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003erunIteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eRalphSession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eiteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e \u003e=\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emax iterations reached (\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptReal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptContents\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereadFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epromptReal\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    session\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eiteration\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e persist\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eIteration \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eiteration\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003einfo\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emsg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;ralph_iteration number=\"\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eiteration\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\" max=\"\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emaxIterations\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;ralph_rules\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Task spec: follow the content in \u0026#x3C;task_prompt_file\u003e.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Read `## Progress` as you may have already started coding and done some work.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Focus: pick the single most useful next step you can complete now.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Make concrete progress in implementing the features/functionality described in that doc. Do this by coding in this repo/working directory.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Once you are done, update the prompt file, especially `## Progress`, to be accurate with your progress so far.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- In `## Progress`, record: what you changed, current status, next step, and any verification results/errors.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Keep the prompt file concise and current; it is durable memory (chat may be compacted).\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Use ## Acceptance Criteria to define done; use ## Verification to prove it.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- If a command is blocked/denied, do not retry it; choose a safer alternative and note it in ## Progress.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- If stuck, log the blocker and what you tried in ## Progress, then attempt the next best approach.\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e- Completion: only when fully complete and verified, end your final message with a line containing only: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eDONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;/ralph_rules\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;task_prompt_file path=\"\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epromptPath\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      promptContents\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;/task_prompt_file\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e      \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x3C;/ralph_iteration\u003e\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    ].\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eprompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e      body\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eagent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eralph\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: [{ \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emsg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e }] },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003echat.message\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eChatMessageInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eChatMessageOutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) =\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e textFromParts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eincludes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eCONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003econtrol\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e parseControl\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003econtrol\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eCould not parse RALPH_CONTROL JSON\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003econtrol\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg2\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003econtrol\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg2\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e toast\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eUsage: /ralph @prompt.md [max]  OR  /ralph stop\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eerror\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estop\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003emanual stop\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e start\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003earg2\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e    event\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e ({ \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eevent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e }: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eIdleEventInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) =\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eevent\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esession.idle\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e event\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eproperties\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessagesResult\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e client\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003emessages\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e          path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#998418\"\u003e          query\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elimit\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e25\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e        }))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e SessionMessagesResponse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessages\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e messagesResult\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003edata\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elastAssistant\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [...\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emessages\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e].\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereverse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e().\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003efind\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003em\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e m\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einfo\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erole\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eassistant\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elastAssistant\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e hasDone\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etextFromParts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003elastAssistant\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ??\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [])))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          return\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e stop\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eDONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      } \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ecatch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e        // ignore\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e runIteration\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etool.execute.before\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003easync\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eToolExecuteInput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eToolExecuteOutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) =\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e state\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessions\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esessionID\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenabled\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ebash\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e        guardBash\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eoutput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esession\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003einput\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eread\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e input\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ewrite\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e input\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etool\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eedit\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e output\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e?.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e filePath\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereturn\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e        const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisAbsolute\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eresolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e filePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eworktree\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eabs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e          throw\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e Error\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRalph safety: file access outside repo is disabled\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e      }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"15:T13ad,"])</script><script>self.__next_f.push([1,"/// \u003creference path=\"../types/shims.d.ts\" /\u003e\n\nimport fs from \"node:fs/promises\";\nimport path from \"node:path\";\n\nexport const CONTROL_PREFIX = \"RALPH_CONTROL:\";\nexport const DONE_TOKEN = \"RALPH_DONE\";\nexport const DEFAULT_MAX_ITERATIONS = 25;\n\nexport const REQUIRED_SECTIONS = [\n  \"Goal\",\n  \"Acceptance Criteria\",\n  \"Verification\",\n  \"Progress\",\n] as const;\nexport const REQUIRED_NONEMPTY = [\"Goal\", \"Acceptance Criteria\", \"Verification\"] as const;\n\nexport const isPathInside = (root: string, target: string) =\u003e {\n  const rel = path.relative(root, target);\n  return rel === \"\" || (!rel.startsWith(`..${path.sep}`) \u0026\u0026 rel !== \"..\");\n};\n\nexport const stripArg = (value: unknown) =\u003e {\n  const s = String(value ?? \"\").trim();\n  const unquoted =\n    (s.startsWith('\"') \u0026\u0026 s.endsWith('\"')) || (s.startsWith(\"'\") \u0026\u0026 s.endsWith(\"'\"))\n      ? s.slice(1, -1)\n      : s;\n  return unquoted.startsWith(\"@\") ? unquoted.slice(1) : unquoted;\n};\n\nconst escapeRe = (s: string) =\u003e s.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$\u0026\");\n\nconst sectionBody = (md: string, title: string) =\u003e {\n  const re = new RegExp(\n    `^#{1,6}\\\\s+${escapeRe(title)}\\\\s*$\\\\r?\\\\n([\\\\s\\\\S]*?)(?=^#{1,6}\\\\s+|\\\\Z)`,\n    \"im\",\n  );\n  const m = re.exec(md);\n  return m ? m[1].trim() : null;\n};\n\nexport const lintPrompt = (md: string) =\u003e {\n  const errors: string[] = [];\n\n  for (const s of REQUIRED_SECTIONS) {\n    if (sectionBody(md, s) === null) errors.push(`Missing section heading: ${s}`);\n  }\n\n  for (const s of REQUIRED_NONEMPTY) {\n    const body = sectionBody(md, s);\n    if (body !== null \u0026\u0026 !body) errors.push(`Section must not be empty: ${s}`);\n  }\n\n  return errors;\n};\n\nexport const loadJson = async \u003cT\u003e(filePath: string, fallback: T): Promise\u003cT\u003e =\u003e {\n  try {\n    return JSON.parse(await fs.readFile(filePath, \"utf8\")) as T;\n  } catch {\n    return fallback;\n  }\n};\n\nexport const saveJson = async (filePath: string, value: unknown) =\u003e {\n  await fs.mkdir(path.dirname(filePath), { recursive: true });\n  await fs.writeFile(filePath, `${JSON.stringify(value, null, 2)}\\n`, \"utf8\");\n};\n\ntype TextPartLike = { type: \"text\"; text: string };\n\nexport const textFromParts = (parts: unknown[]) =\u003e\n  (Array.isArray(parts) ? parts : [])\n    .filter((p): p is TextPartLike =\u003e {\n      if (typeof p !== \"object\" || p === null) return false;\n      const candidate = p as { type?: unknown; text?: unknown };\n      return candidate.type === \"text\" \u0026\u0026 typeof candidate.text === \"string\";\n    })\n    .map((p) =\u003e p.text)\n    .join(\"\\n\");\n\nexport const hasDone = (text: string) =\u003e\n  String(text)\n    .split(/\\r?\\n/)\n    .some((l) =\u003e l.trim() === DONE_TOKEN);\n\nexport const parseControl = (text: string) =\u003e {\n  const line = String(text)\n    .split(/\\r?\\n/)\n    .map((l) =\u003e l.trim())\n    .find((l) =\u003e l.startsWith(CONTROL_PREFIX));\n\n  if (!line) return null;\n\n  try {\n    return JSON.parse(line.slice(CONTROL_PREFIX.length).trim()) as {\n      arg1?: unknown;\n      arg2?: unknown;\n      arg3?: unknown;\n    };\n  } catch {\n    return null;\n  }\n};\n\nexport const tokenize = (cmd: string) =\u003e {\n  const out: string[] = [];\n  let cur = \"\";\n  let q: '\"' | \"'\" | null = null;\n\n  for (let i = 0; i \u003c cmd.length; i++) {\n    const c = cmd[i];\n\n    if (q) {\n      if (c === q) q = null;\n      else cur += c;\n      continue;\n    }\n\n    if (c === '\"' || c === \"'\") {\n      q = c;\n      continue;\n    }\n\n    if (/\\s/.test(c)) {\n      if (cur) out.push(cur);\n      cur = \"\";\n      continue;\n    }\n\n    cur += c;\n  }\n\n  if (cur) out.push(cur);\n  return out;\n};\n\nexport const normalizeRelToken = (t: string) =\u003e\n  String(t).replace(/\\\\/g, \"/\").replace(/^\\.\\//, \"\").trim();\n\nexport const splitShellSegments = (command: string) =\u003e {\n  const segments: string[] = [];\n  let cur = \"\";\n  let q: '\"' | \"'\" | null = null;\n\n  const flush = () =\u003e {\n    const trimmed = cur.trim();\n    if (trimmed) segments.push(trimmed);\n    cur = \"\";\n  };\n\n  for (let i = 0; i \u003c command.length; i++) {\n    const c = command[i];\n\n    if (q) {\n      if (c === q) q = null;\n      cur += c;\n      continue;\n    }\n\n    if (c === '\"' || c === \"'\") {\n      q = c;\n      cur += c;\n      continue;\n    }\n\n    // Split on unquoted ;, \u0026\u0026, ||, and newlines.\n    if (c === \";\" || c === \"\\n\") {\n      flush();\n      continue;\n    }\n\n    if (c === \"\u0026\" \u0026\u0026 command[i + 1] === \"\u0026\") {\n      flush();\n      i++;\n      continue;\n    }\n\n    if (c === \"|\" \u0026\u0026 command[i + 1] === \"|\") {\n      flush();\n      i++;\n      continue;\n    }\n\n    cur += c;\n  }\n\n  flush();\n  return segments;\n};\n\nconst envAssignmentRe = /^[A-Za-z_][A-Za-z0-9_]*=.*/;\n\nexport const stripEnvPrefixes = (tokens: string[]) =\u003e {\n  let i = 0;\n  if (tokens[i] === \"env\") i++;\n  while (i \u003c tokens.length \u0026\u0026 envAssignmentRe.test(tokens[i] ?? \"\")) i++;\n  return tokens.slice(i);\n};\n\nexport const rmTargetsFromArgs = (args: string[]) =\u003e {\n  const targets: string[] = [];\n  let passthrough = false;\n\n  for (const a of args) {\n    if (!passthrough \u0026\u0026 a === \"--\") {\n      passthrough = true;\n      continue;\n    }\n\n    if (!passthrough \u0026\u0026 a.startsWith(\"-\")) continue;\n    targets.push(a);\n  }\n\n  return targets;\n};\n"])</script><script>self.__next_f.push([1,"16:Te43f,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e/// \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003ereference\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e../types/shims.d.ts\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e /\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:fs/promises\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:path\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eCONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRALPH_CONTROL:\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eDONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eRALPH_DONE\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eDEFAULT_MAX_ITERATIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 25\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eREQUIRED_SECTIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e  \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eGoal\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e  \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eAcceptance Criteria\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e  \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eVerification\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e  \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eProgress\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eREQUIRED_NONEMPTY\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eGoal\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eAcceptance Criteria\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eVerification\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisPathInside\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eroot\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e target\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erel\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003erelative\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eroot\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e target\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e rel\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erel\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e..\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003esep\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erel\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !== \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e..\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estripArg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003evalue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003evalue\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eunquoted\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eendsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eendsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e -\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e unquoted\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e@\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eunquoted\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eunquoted\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eescapeRe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e s\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereplace\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e*+?^${}()|[\u003c/span\u003e\u003cspan style=\"color:#BDA437\"\u003e\\]\\\\\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e$\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esectionBody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e title\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ere\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e new \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eRegExp\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    `\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e^#{1,6}\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es+\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eescapeRe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etitle\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es*$\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003er?\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003en([\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eS]*?)(?=^#{1,6}\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es+|\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eZ)\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B5695977\"\u003e    \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eim\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  );\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003em\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e re\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eexec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e m\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003em\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e].\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003elintPrompt\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eerrors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[] =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eREQUIRED_SECTIONS\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esectionBody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e s\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e errors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eMissing section heading: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003es\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eREQUIRED_NONEMPTY\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ebody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e sectionBody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003emd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e s\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ebody\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !== null \u0026#x26;\u0026#x26; !\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ebody\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e errors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eSection must not be empty: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003es\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e errors\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eloadJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eT\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fallback\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eT\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eT\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eparse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eawait\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereadFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e T\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e catch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fallback\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esaveJson\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e async \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e value\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003emkdir\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003edirname\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e),\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e { \u003c/span\u003e\u003cspan style=\"color:#998418\"\u003erecursive\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003etrue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  await\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ewriteFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efilePath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e `\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eJSON\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estringify\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003evalue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 2\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e`\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e TextPartLike\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e text\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etextFromParts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[])\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eArray\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eisArray\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ? \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eparts\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e : \u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[])\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003efilter\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ep\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e is\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e TextPartLike\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003etypeof\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e !==\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eobject\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ||\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e return\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e false\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e      const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecandidate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e text\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e candidate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e typeof\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e candidate\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    })\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003emap\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ep\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e p\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ejoin\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ehasDone\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esplit\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\r\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esome\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003el\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e()\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ===\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e DONE_TOKEN\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eparseControl\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eline\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003e String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etext\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esplit\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\r\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003emap\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003el\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e())\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    .\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003efind\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e((\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003el\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e l\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eCONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e));\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eline\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e return\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  try\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e JSON\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eparse\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eline\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eCONTROL_PREFIX\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e())\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e as\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      arg1\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      arg2\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      arg3\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eunknown\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e catch\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    return\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etokenize\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eout\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[] =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003enull\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003elet \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e cmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e cmd\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e q\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      else\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      q\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e\\s\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e out\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      cur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e out\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e out\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003enormalizeRelToken\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003et\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  String\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003et\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereplace\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#BDA437\"\u003e\\\\\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003eg\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ereplace\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e^\u003c/span\u003e\u003cspan style=\"color:#BDA437\"\u003e\\.\\/\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003esplitShellSegments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003esegments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[] =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e | \u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003enull\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eflush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e ()\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etrimmed\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e cur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etrim\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etrimmed\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e segments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etrimmed\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    cur\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003elet \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e command\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e    const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e command\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eq\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e q\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e null\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e'\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      q\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e c\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e    // Split on unquoted ;, \u0026#x26;\u0026#x26;, ||, and newlines.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e || \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e      flush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e + \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e\u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e      flush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ecommand\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e + \u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e      flush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    cur\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e += \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ec\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  flush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e segments\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenvAssignmentRe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e /\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e^\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003eA-Za-z_\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e][\u003c/span\u003e\u003cspan style=\"color:#A65E2B\"\u003eA-Za-z0-9_\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#AB5E3F\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#5A6AA6\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e*\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e/\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estripEnvPrefixes\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[])\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2F798A\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eenv\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  while\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#998418\"\u003elength\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eenvAssignmentRe\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003etest\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e]\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e ?? \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e i\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e++\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e tokens\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003eslice\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ei\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003eexport\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e const \u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003ermTargetsFromArgs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[])\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003e\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003etargets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[] =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e [];\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  let \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epassthrough\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e false\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  for\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003econst \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e of \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003eargs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epassthrough\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e === \u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e--\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e)\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e      passthrough\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e true\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e      continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e!\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epassthrough\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e \u0026#x26;\u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003estartsWith\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003e-\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e))\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e continue\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e    targets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#59873A\"\u003epush\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003ea\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  return\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e targets\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"17:T4f6,// Minimal ambient types to keep .opencode TypeScript self-contained.\n// This repo may not have Node/Bun type packages installed.\n\ndeclare type Buffer = Uint8Array;\ndeclare type BufferEncoding =\n  | \"ascii\"\n  | \"utf8\"\n  | \"utf-8\"\n  | \"utf16le\"\n  | \"ucs2\"\n  | \"ucs-2\"\n  | \"base64\"\n  | \"base64url\"\n  | \"latin1\"\n  | \"binary\"\n  | \"hex\";\n\ntype FsStats = {\n  isFile(): boolean;\n};\n\ntype FsPromises = {\n  realpath(path: string): Promise\u003cstring\u003e;\n  stat(path: string): Promise\u003cFsStats\u003e;\n  readFile(path: string, encoding: BufferEncoding): Promise\u003cstring\u003e;\n  mkdir(path: string, options?: { recursive?: boolean }): Promise\u003cstring | undefined\u003e;\n  writeFile(path: string, data: string, encoding: BufferEncoding): Promise\u003cvoid\u003e;\n};\n\ndeclare module \"fs/promises\" {\n  const fs: FsPromises;\n  export default fs;\n}\n\ndeclare module \"node:fs/promises\" {\n  const fs: FsPromises;\n  export default fs;\n}\n\ntype PathModule = {\n  join(...paths: string[]): string;\n  isAbsolute(path: string): boolean;\n  resolve(...paths: string[]): string;\n  relative(from: string, to: string): string;\n  dirname(path: string): string;\n  sep: string;\n};\n\ndeclare module \"path\" {\n  const path: PathModule;\n  export default path;\n}\n\ndeclare module \"node:path\" {\n  const path: PathModule;\n  export default path;\n}\n18:T2f2b,"])</script><script>self.__next_f.push([1,"\u003cpre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e// Minimal ambient types to keep .opencode TypeScript self-contained.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#A0ADA0\"\u003e// This repo may not have Node/Bun type packages installed.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Buffer\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Uint8Array\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e BufferEncoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eascii\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf-8\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eutf16le\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eucs2\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003eucs-2\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ebase64\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ebase64url\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003elatin1\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ebinary\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e  |\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003ehex\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e FsStats\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  isFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e():\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e boolean\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e FsPromises\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  realpath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  stat\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eFsStats\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  readFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e encoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eBufferEncoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  mkdir\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e options\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: { \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003erecursive\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e?\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eboolean\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e }):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e |\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e undefined\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  writeFile\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e data\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e encoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eBufferEncoding\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e Promise\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003evoid\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e module\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003efs/promises\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eFsPromises\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  export\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e module\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:fs/promises\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003eFsPromises\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  export\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e fs\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003etype\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e PathModule\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  join\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(...\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epaths\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[]):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  isAbsolute\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e boolean\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  resolve\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(...\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epaths\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e[]):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  relative\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003efrom\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e,\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e to\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#59873A\"\u003e  dirname\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e):\u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#B07D48\"\u003e  sep\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e module\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003ePathModule\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  export\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003edeclare\u003c/span\u003e\u003cspan style=\"color:#AB5959\"\u003e module\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e \"\u003c/span\u003e\u003cspan style=\"color:#B56959\"\u003enode:path\u003c/span\u003e\u003cspan style=\"color:#B5695977\"\u003e\"\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#AB5959\"\u003e  const \u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003epath\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e: \u003c/span\u003e\u003cspan style=\"color:#2E8F82\"\u003ePathModule\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#1E754F\"\u003e  export\u003c/span\u003e\u003cspan style=\"color:#1E754F\"\u003e default\u003c/span\u003e\u003cspan style=\"color:#B07D48\"\u003e path\u003c/span\u003e\u003cspan style=\"color:#999999\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#999999\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"e:[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[\"$\",\"$Lf\",null,{\"opencodeVariant\":{\"$schema\":\"https://ui.shadcn.com/schema/registry-item.json\",\"name\":\"ralph-loop-opencode\",\"type\":\"registry:item\",\"title\":\"OpenCode Ralph Loop\",\"description\":\"Ralph loop agent, command, and plugin for OpenCode.\",\"meta\":{\"concept\":\"ralph-loop\",\"platform\":\"opencode\",\"kind\":[\"agent\",\"command\",\"plugin\"],\"installPath\":\"ralph-loop-opencode.v1.json\"},\"files\":[{\"path\":\"registry/ralph-loop/opencode/files/agent/ralph.md\",\"type\":\"registry:file\",\"target\":\"~/.opencode/agent/ralph.md\"},{\"path\":\"registry/ralph-loop/opencode/files/command/ralph.md\",\"type\":\"registry:file\",\"target\":\"~/.opencode/command/ralph.md\"},{\"path\":\"registry/ralph-loop/opencode/files/plugin/ralph-loop.ts\",\"type\":\"registry:file\",\"target\":\"~/.opencode/plugin/ralph-loop.ts\"},{\"path\":\"registry/ralph-loop/opencode/files/ralph/ralph-utils.ts\",\"type\":\"registry:file\",\"target\":\"~/.opencode/ralph/ralph-utils.ts\"},{\"path\":\"registry/ralph-loop/opencode/files/types/shims.d.ts\",\"type\":\"registry:file\",\"target\":\"~/.opencode/types/shims.d.ts\"}],\"docs\":\"Restart OpenCode after installing to register the /ralph command. Targets prefixed with ~ are repo-scoped (project-root) paths.\"},\"basePath\":\"\",\"codeBlocks\":[{\"id\":\"registry-ralph-loop-opencode-files-agent-ralph-md\",\"label\":\"ralph.md\",\"path\":\"registry/ralph-loop/opencode/files/agent/ralph.md\",\"target\":\"~/.opencode/agent/ralph.md\",\"raw\":\"$10\",\"html\":\"$11\",\"language\":\"markdown\"},{\"id\":\"registry-ralph-loop-opencode-files-command-ralph-md\",\"label\":\"ralph.md\",\"path\":\"registry/ralph-loop/opencode/files/command/ralph.md\",\"target\":\"~/.opencode/command/ralph.md\",\"raw\":\"---\\ndescription: Start/stop a Ralph loop on a prompt file\\nagent: ralph\\n---\\n\\nRALPH_CONTROL: {\\\"arg1\\\":\\\"$1\\\",\\\"arg2\\\":\\\"$2\\\",\\\"arg3\\\":\\\"$3\\\"}\\n\\nThis command sends a control message that the Ralph loop plugin listens for.\\n\\n- If `$1` is `stop`, stop the Ralph loop.\\n- Otherwise, treat `$1` as the prompt file reference and `$2` as an optional max-iterations number.\\n\\nRespond with a brief acknowledgement only. Do not run tools in response to this control message.\\n\",\"html\":\"$12\",\"language\":\"markdown\"},{\"id\":\"registry-ralph-loop-opencode-files-plugin-ralph-loop-ts\",\"label\":\"ralph-loop.ts\",\"path\":\"registry/ralph-loop/opencode/files/plugin/ralph-loop.ts\",\"target\":\"~/.opencode/plugin/ralph-loop.ts\",\"raw\":\"$13\",\"html\":\"$14\",\"language\":\"ts\"},{\"id\":\"registry-ralph-loop-opencode-files-ralph-ralph-utils-ts\",\"label\":\"ralph-utils.ts\",\"path\":\"registry/ralph-loop/opencode/files/ralph/ralph-utils.ts\",\"target\":\"~/.opencode/ralph/ralph-utils.ts\",\"raw\":\"$15\",\"html\":\"$16\",\"language\":\"ts\"},{\"id\":\"registry-ralph-loop-opencode-files-types-shims-d-ts\",\"label\":\"shims.d.ts\",\"path\":\"registry/ralph-loop/opencode/files/types/shims.d.ts\",\"target\":\"~/.opencode/types/shims.d.ts\",\"raw\":\"$17\",\"html\":\"$18\",\"language\":\"ts\"}]}]}]\n"])</script></body></html>